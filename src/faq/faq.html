<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>JQ Queries Manual</title>
    <style href="./faq.page.scss"></style>
    <script src="./faq.ts"></script>
  </head>
  <body>
    <div class="sidebar">
      <div class="header">
        <div class="logo"></div>
        <div class="name">Modern JSON Formatter</div>
        <div class="links">
          <github-button href="https://github.com/evg4b/modern-json-formatter" title="Github Repo"></github-button>
          <chrome-web-store-button
            href="https://chromewebstore.google.com/detail/modern-json-formatter/dmofgolehdakghahlgibeaodbahpfkpf"
            title="Chrome Web Store"></chrome-web-store-button>
          <ko-fi-button href="https://ko-fi.com/evg4b" title="Support project on KO-FI"></ko-fi-button>
        </div>
      </div>
      <div class="menu">
        <div class="section">
          <a href="#basic-filters" class="item section-header">Basic filters</a>
          <div class="children section">
            <a href="#identity" class="item"> Identity: <code>.</code> </a>
            <a href="#object-identifier-index" class="item">
              Object Identifier-Index: <code>.foo</code>, <code>.foo.bar</code>
            </a>
            <a href="#optional-object-identifier-index" class="item">
              Optional Object Identifier-Index: <code>.foo?</code>
            </a>
            <a href="#object-index" class="item"> Object Index: <code>.[&lt;string&gt;]</code> </a>
            <a href="#array-index" class="item"> Array Index: <code>.[&lt;number&gt;]</code> </a>
            <a href="#array-string-slice" class="item">
              Array/String Slice: <code>.[&lt;number&gt;:&lt;number&gt;]</code>
            </a>
            <a href="#array-object-value-iterator" class="item"> Array/Object Value Iterator: <code>.[]</code> </a>
            <a href="#.[]?" class="item"><code>.[]?</code></a>
            <a href="#comma" class="item">Comma: <code>,</code></a>
            <a href="#pipe" class="item">Pipe: <code>|</code></a>
            <a href="#parenthesis" class="item">Parenthesis</a>
          </div>
        </div>
        <div class="section">
          <a href="#types-and-values" class="item section-header">Types and Values</a>
          <div class="children section">
            <a href="#array-construction" class="item">Array construction: <code>[]</code></a>
            <a href="#object-construction" class="item">Object Construction: <code>{}</code></a>
            <a href="#recursive-descent" class="item">Recursive Descent: <code>..</code></a>
          </div>
        </div>
        <div class="section">
          <a href="#builtin-operators-and-functions" class="item section-header">Builtin operators and functions</a>
          <div class="children section">
            <a href="#addition" class="item">Addition: <code>+</code></a>
            <a href="#subtraction" class="item">Subtraction: <code>-</code></a>
            <a href="#multiplication-division-modulo" class="item">
              Multiplication, division, modulo: <code>*</code>, <code>/</code>, <code>%</code>
            </a>
            <a href="#abs" class="item"><code>abs</code></a>
            <a href="#length" class="item"><code>length</code></a>
            <a href="#utf8bytelength" class="item"><code>utf8bytelength</code></a>
            <a href="#keys-keys_unsorted" class="item"><code>keys</code>, <code>keys_unsorted</code></a>
            <a href="#has" class="item"><code>has(key)</code></a>
            <a href="#in" class="item"><code>in</code></a>
            <a href="#map-map_values" class="item"><code>map(f)</code>, <code>map_values(f)</code></a>
            <a href="#pick" class="item"><code>pick(pathexps)</code></a>
            <a href="#path" class="item"><code>path(path_expression)</code></a>
            <a href="#del" class="item"><code>del(path_expression)</code></a>
            <a href="#getpath" class="item"><code>getpath(PATHS)</code></a>
            <a href="#setpath" class="item"><code>setpath(PATHS; VALUE)</code></a>
            <a href="#delpaths" class="item"><code>delpaths(PATHS)</code></a>
            <a href="#to_entries-from_entries-with_entries" class="item">
              <code>to_entries</code>, <code>from_entries</code>, <code>with_entries(f)</code>
            </a>
            <a href="#select" class="item"><code>select(boolean_expression)</code></a>
            <a
              href="#arrays-objects-iterables-booleans-numbers-normals-finites-strings-nulls-values-scalars"
              class="item">
              <code>arrays</code>, <code>objects</code>, <code>iterables</code>, <code>booleans</code>,
              <code>numbers</code>, <code>normals</code>, <code>finites</code>, <code>strings</code>,
              <code>nulls</code>, <code>values</code>, <code>scalars</code>
            </a>
            <a href="#empty" class="item"><code>empty</code></a>
            <a href="#error" class="item"><code>error</code>, <code>error(message)</code></a>
            <a href="#halt" class="item"><code>halt</code></a>
            <a href="#halt_error" class="item"><code>halt_error</code>, <code>halt_error(exit_code)</code></a>
            <a href="#paths" class="item"><code>paths</code>, <code>paths(node_filter)</code></a>
            <a href="#add" class="item"><code>add</code></a>
            <a href="#any" class="item">
              <code>any</code>, <code>any(condition)</code>, <code>any(generator; condition)</code>
            </a>
            <a href="#all" class="item">
              <code>all</code>, <code>all(condition)</code>, <code>all(generator; condition)</code>
            </a>
            <a href="#flatten" class="item"><code>flatten</code>, <code>flatten(depth)</code></a>
            <a href="#range" class="item">
              <code>range(upto)</code>, <code>range(from; upto)</code>, <code> range(from; upto; by)</code>
            </a>
            <a href="#floor" class="item"><code>floor</code></a>
            <a href="#sqrt" class="item"><code>sqrt</code></a>
            <a href="#tonumber" class="item"><code>tonumber</code></a>
            <a href="#tostring" class="item"><code>tostring</code></a>
            <a href="#type" class="item"><code>type</code></a>
            <a href="#infinite-nan-isinfinite-isnan-isfinite-isnormal" class="item">
              <code>infinite</code>, <code>nan</code>, <code>isinfinite</code>, <code>isnan</code>,
              <code>isfinite</code>, <code>isnormal</code>
            </a>
            <a href="#sort-sort_by" class="item"><code>sort</code>, <code>sort_by(path_expression)</code></a>
            <a href="#group_by" class="item"><code>group_by(path_expression)</code></a>
            <a href="#min-max-min_by-max_by" class="item">
              <code>min</code>, <code>max</code>, <code>min_by(path_exp)</code>, <code>max_by(path_exp)</code>
            </a>
            <a href="#unique-unique_by" class="item"><code>unique</code>, <code>unique_by(path_exp)</code></a>
            <a href="#reverse" class="item"><code>reverse</code></a>
            <a href="#contains" class="item"><code>contains(element)</code></a>
            <a href="#indices" class="item"><code>indices(s)</code></a>
            <a href="#index-rindex" class="item"><code>index(s)</code>, <code>rindex(s)</code></a>
            <a href="#inside" class="item"><code>inside</code></a>
            <a href="#startswith" class="item"><code>startswith(str)</code></a>
            <a href="#endswith" class="item"><code>endswith(str)</code></a>
            <a href="#combinations" class="item"><code>combinations</code>, <code>combinations(n)</code></a>
            <a href="#ltrimstr" class="item"><code>ltrimstr(str)</code></a>
            <a href="#rtrimstr" class="item"><code>rtrimstr(str)</code></a>
            <a href="#explode" class="item"><code>explode</code></a>
            <a href="#implode" class="item"><code>implode</code></a>
            <a href="#split-1" class="item"><code>split(str)</code></a>
            <a href="#join" class="item"><code>join(str)</code></a>
            <a href="#ascii_downcase-ascii_upcase" class="item">
              <code>ascii_downcase</code>, <code>ascii_upcase</code>
            </a>
            <a href="#while" class="item"><code>while(cond; update)</code></a>
            <a href="#repeat" class="item"><code>repeat(exp)</code></a>
            <a href="#until" class="item"><code>until(cond; next)</code></a>
            <a href="#recurse" class="item">
              <code>recurse(f)</code>, <code>recurse</code>, <code>recurse(f; condition)</code>
            </a>
            <a href="#walk" class="item"><code>walk(f)</code></a>
            <a href="#$env-env" class="item" style="display: none"><code>$ENV</code>, <code>env</code></a>
            <a href="#transpose" class="item"><code>transpose</code></a>
            <a href="#bsearch" class="item"><code>bsearch(x)</code></a>
            <a href="#string-interpolation" class="item">String interpolation: <code>\(exp)</code></a>
            <a href="#convert-to-from-json" class="item">Convert to/from JSON</a>
            <a href="#format-strings-and-escaping" class="item">Format strings and escaping</a>
            <a href="#dates" class="item">Dates</a>
            <a href="#sql-style-operators" class="item" style="display: none">SQL-Style Operators</a>
            <a href="#builtins" class="item"><code>builtins</code></a>
          </div>
        </div>
        <div class="section">
          <a href="#conditionals-and-comparisons" class="item section-header">Conditionals and Comparisons</a>
          <div class="children section">
            <a href="#==-!=" class="item"><code>==</code>, <code>!=</code></a>
            <a href="#if-then-else-end" class="item">if-then-else-end</a>
            <a href="#>->=-<=-<" class="item">
              <code>&gt;</code>, <code>&gt;=</code>, <code>&lt;=</code>, <code>&lt;</code>
            </a>
            <a href="#and-or-not" class="item"><code>and</code>, <code>or</code>, <code>not</code></a>
            <a href="#alternative-operator" class="item">Alternative operator: <code>//</code></a>
            <a href="#try-catch" class="item">try-catch</a>
            <a href="#breaking-out-of-control-structures" class="item">Breaking out of control structures</a>
            <a href="#error-suppression-optional-operator" class="item">
              Error Suppression / Optional Operator: <code>?</code>
            </a>
          </div>
        </div>
        <div class="section">
          <a href="#regular-expressions" class="item section-header">Regular expressions</a>
          <div class="children section">
            <a href="#test" class="item"><code>test(val)</code>, <code>test(regex; flags)</code></a>
            <a href="#match" class="item"><code>match(val)</code>, <code>match(regex; flags)</code></a>
            <a href="#capture" class="item"><code>capture(val)</code>, <code>capture(regex; flags)</code></a>
            <a href="#scan" class="item"><code>scan(regex)</code>, <code>scan(regex; flags)</code></a>
            <a href="#split-2" class="item"><code>split(regex; flags)</code></a>
            <a href="#splits" class="item"><code>splits(regex)</code>, <code>splits(regex; flags)</code></a>
            <a href="#sub" class="item"><code>sub(regex; tostring)</code>, <code>sub(regex; tostring; flags)</code></a>
            <a href="#gsub" class="item">
              <code>gsub(regex; tostring)</code>, <code>gsub(regex; tostring; flags)</code>
            </a>
          </div>
        </div>
        <div class="section">
          <a href="#advanced-features" class="item section-header">Advanced features</a>
          <div class="children section">
            <a href="#variable-symbolic-binding-operator" class="item">
              Variable / Symbolic Binding Operator: <code>... as $identifier | ...</code>
            </a>
            <a href="#destructuring-alternative-operator" class="item">
              Destructuring Alternative Operator: <code>?//</code>
            </a>
            <a href="#defining-functions" class="item">Defining Functions</a>
            <a href="#scoping" class="item">Scoping</a>
            <a href="#isempty" class="item"><code>isempty(exp)</code></a>
            <a href="#limit" class="item"><code>limit(n; exp)</code></a>
            <a href="#first-last-nth-2" class="item">
              <code>first(expr)</code>, <code>last(expr)</code>, <code>nth(n; expr)</code>
            </a>
            <a href="#first-last-nth-1" class="item"><code>first</code>, <code>last</code>, <code>nth(n)</code></a>
            <a href="#reduce" class="item"><code>reduce</code></a>
            <a href="#foreach" class="item"><code>foreach</code></a>
            <a href="#recursion" class="item">Recursion</a>
            <a href="#generators-and-iterators" class="item">Generators and iterators</a>
          </div>
        </div>
        <div class="section">
          <a href="#math" class="item section-header">Math</a>
        </div>
        <div class="section">
          <a href="#assignment" class="item section-header">Assignment</a>
          <div class="children section">
            <a href="#update-assignment" class="item">Update-assignment: <code>|=</code></a>
            <a href="#arithmetic-update-assignment" class="item">
              Arithmetic update-assignment: <code>+=</code>, <code>-=</code>, <code>*=</code>, <code>/=</code>,
              <code>%=</code>, <code>//=</code>
            </a>
            <a href="#plain-assignment" class="item">Plain assignment: <code>=</code></a>
            <a href="#complex-assignments" class="item">Complex assignments</a>
          </div>
        </div>
      </div>
    </div>
    <main>
      <h1>JQ Queries Manual</h1>
      <section>
        <p>
          A jq query feature is a "filter": it takes an input, and produces an output. There are a lot of builtin
          filters for extracting a particular field of an object, or converting a number to a string, or various other
          standard tasks.
        </p>
        <p>
          Filters can be combined in various ways - you can pipe the output of one filter into another filter, or
          collect the output of a filter into an array.
        </p>
        <p>
          Some filters produce multiple results, for instance there's one that produces all the elements of its input
          array. Piping that filter into a second runs the second filter for each element of the array. Generally,
          things that would be done with loops and iteration in other languages are just done by gluing filters together
          in jq.
        </p>
        <p>
          It's important to remember that every filter has an input and an output. Even literals like "hello" or 42 are
          filters - they take an input but always produce the same literal as output. Operations that combine two
          filters, like addition, generally feed the same input to both and combine the results. So, you can implement
          an averaging filter as
          <code>add / length</code> - feeding the input array both to the <code>add</code> filter and the
          <code>length</code> filter and then performing the division.
        </p>
        <p>But that's getting ahead of ourselves. :) Let's start with something simpler:</p>
      </section>
      <section id="basic-filters">
        <h2>Basic filters</h2>
        <section id="identity">
          <h3>Identity: <code>.</code></h3>
          <p>
            The absolute simplest filter is <code>.</code> . This filter takes its input and produces the same value as
            output. That is, this is the identity operator.
          </p>
          <p>
            Since jq by default pretty-prints all output, a trivial program consisting of nothing but <code>.</code> can
            be used to format JSON output from, say, <code>curl</code>.
          </p>
          <p>
            Although the identity filter never modifies the value of its input, jq processing can sometimes make it
            appear as though it does. For example, using the current implementation of jq, we would see that the
            expression:
          </p>
          <pre><code>1E1234567890 | .</code></pre>
          <p>
            produces <code>1.7976931348623157e+308</code> on at least one platform. This is because, in the process of
            parsing the number, this particular version of jq has converted it to an IEEE754 double-precision
            representation, losing precision.
          </p>
          <p>
            The way in which jq handles numbers has changed over time and further changes are likely within the
            parameters set by the relevant JSON standards. The following remarks are therefore offered with the
            understanding that they are intended to be descriptive of the current version of jq and should not be
            interpreted as being prescriptive:
          </p>
          <p>
            (1) Any arithmetic operation on a number that has not already been converted to an IEEE754 double precision
            representation will trigger a conversion to the IEEE754 representation.
          </p>
          <p>
            (2) jq will attempt to maintain the original decimal precision of number literals, but in expressions such
            <code>1E1234567890</code>, precision will be lost if the exponent is too large.
          </p>
          <p>
            (3) In jq programs, a leading minus sign will trigger the conversion of the number to an IEEE754
            representation.
          </p>
          <p>
            (4) Comparisons are carried out using the untruncated big decimal representation of numbers if available, as
            illustrated in one of the following examples.
          </p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example1" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">.</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">"Hello, world!"</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">"Hello, world!"</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">.</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">0.12345678901234567890123456789</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">0.12345678901234567890123456789</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">[., tojson]</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">12345678909876543212345</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">[12345678909876543212345,"12345678909876543212345"]</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">. &lt; 0.12345678901234567890123456788</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">0.12345678901234567890123456789</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">false</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">map([., . == 1]) | tojson</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">[1, 1.000, 1.0, 100e-2]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">"[[1,true],[1.000,true],[1.0,true],[1.00,true]]"</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">
                      . as $big | [$big, $big + 1] | map(. &gt; 10000000000000000000000000000000)
                    </td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">10000000000000000000000000000001</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">[true, false]</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="object-identifier-index">
          <h3>Object Identifier-Index: <code>.foo</code>, <code>.foo.bar</code></h3>
          <p>
            The simplest <em>useful</em> filter has the form <code>.foo</code>. When given a JSON object (aka dictionary
            or hash) as input, <code>.foo</code> produces the value at the key "foo" if the key is present, or null
            otherwise.
          </p>
          <p>A filter of the form <code>.foo.bar</code> is equivalent to <code>.foo | .bar</code>.</p>
          <p>
            The <code>.foo</code> syntax only works for simple, identifier-like keys, that is, keys that are all made of
            alphanumeric characters and underscore, and which do not start with a digit.
          </p>
          <p>
            If the key contains special characters or starts with a digit, you need to surround it with double quotes
            like this:
            <code>."foo$"</code>, or else <code>.["foo$"]</code>.
          </p>
          <p>
            For example <code>.["foo::bar"]</code> and <code>.["foo.bar"]</code> work while <code>.foo::bar</code>
            does not.
          </p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example2" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">.foo</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">{"foo": 42, "bar": "less interesting data"}</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">42</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">.foo</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">{"notfoo": true, "alsonotfoo": false}</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">null</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">.["foo"]</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">{"foo": 42}</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">42</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="optional-object-identifier-index">
          <h3>Optional Object Identifier-Index: <code>.foo?</code></h3>
          <p>Just like <code>.foo</code>, but does not output an error when <code>.</code> is not an object.</p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example3" class="mx-3 small d-print-block collapse show">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">.foo?</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">{"foo": 42, "bar": "less interesting data"}</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">42</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">.foo?</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">{"notfoo": true, "alsonotfoo": false}</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">null</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">.["foo"]?</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">{"foo": 42}</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">42</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">[.foo?]</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">[1,2]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">[]</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="object-index">
          <h3>Object Index: <code>.[&lt;string&gt;]</code></h3>
          <p>
            You can also look up fields of an object using syntax like
            <code>.["foo"]</code> (<code>.foo</code> above is a shorthand version of this, but only for identifier-like
            strings).
          </p>
        </section>
        <section id="array-index">
          <h3>Array Index: <code>.[&lt;number&gt;]</code></h3>
          <p>
            When the index value is an integer,
            <code>.[&lt;number&gt;]</code> can index arrays. Arrays are zero-based, so <code>.[2]</code> returns the
            third element.
          </p>
          <p>
            Negative indices are allowed, with -1 referring to the last element, -2 referring to the next to last
            element, and so on.
          </p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example4" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">.[0]</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">[{"name":"JSON", "good":true}, {"name":"XML", "good":false}]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">{"name":"JSON", "good":true}</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">.[2]</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">[{"name":"JSON", "good":true}, {"name":"XML", "good":false}]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">null</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">.[-2]</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">[1,2,3]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">2</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="array-string-slice">
          <h3>Array/String Slice: <code>.[&lt;number&gt;:&lt;number&gt;]</code></h3>
          <p>
            The <code>.[&lt;number&gt;:&lt;number&gt;]</code> syntax can be used to return a subarray of an array or
            substring of a string. The array returned by <code>.[10:15]</code> will be of length 5, containing the
            elements from index 10 (inclusive) to index 15 (exclusive). Either index may be negative (in which case it
            counts backwards from the end of the array), or omitted (in which case it refers to the start or end of the
            array). Indices are zero-based.
          </p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example5" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">.[2:4]</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">["a","b","c","d","e"]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">["c", "d"]</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">.[2:4]</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">"abcdefghi"</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">"cd"</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">.[:3]</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">["a","b","c","d","e"]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">["a", "b", "c"]</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">.[-2:]</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">["a","b","c","d","e"]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">["d", "e"]</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="array-object-value-iterator">
          <h3>Array/Object Value Iterator: <code>.[]</code></h3>
          <p>
            If you use the <code>.[index]</code> syntax, but omit the index entirely, it will return <em>all</em> of the
            elements of an array. Running <code>.[]</code> with the input <code>[1,2,3]</code> will produce the numbers
            as three separate results, rather than as a single array. A filter of the form <code>.foo[]</code> is
            equivalent to <code>.foo | .[]</code>.
          </p>
          <p>You can also use this on an object, and it will return all the values of the object.</p>
          <p>Note that the iterator operator is a generator of values.</p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example6" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">.[]</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">[{"name":"JSON", "good":true}, {"name":"XML", "good":false}]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">{"name":"JSON", "good":true}</td>
                  </tr>
                  <tr>
                    <th></th>
                    <td class="font-monospace">{"name":"XML", "good":false}</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">.[]</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">[]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="fst-italic">none</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">.foo[]</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">{"foo":[1,2,3]}</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">1</td>
                  </tr>
                  <tr>
                    <th></th>
                    <td class="font-monospace">2</td>
                  </tr>
                  <tr>
                    <th></th>
                    <td class="font-monospace">3</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">.[]</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">{"a": 1, "b": 1}</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">1</td>
                  </tr>
                  <tr>
                    <th></th>
                    <td class="font-monospace">1</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id=".[]?">
          <h3><code>.[]?</code></h3>
          <p>
            Like <code>.[]</code>, but no errors will be output if . is not an array or object. A filter of the form
            <code>.foo[]?</code> is equivalent to <code>.foo | .[]?</code>.
          </p>
        </section>
        <section id="comma">
          <h3>Comma: <code>,</code></h3>
          <p>
            If two filters are separated by a comma, then the same input will be fed into both and the two filters'
            output value streams will be concatenated in order: first, all of the outputs produced by the left
            expression, and then all of the outputs produced by the right. For instance, filter <code>.foo, .bar</code>,
            produces both the "foo" fields and "bar" fields as separate outputs.
          </p>
          <p>The <code>,</code> operator is one way to construct generators.</p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example7" class="mx-3 small d-print-block collapse">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">.foo, .bar</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">{"foo": 42, "bar": "something else", "baz": true}</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">42</td>
                  </tr>
                  <tr>
                    <th></th>
                    <td class="font-monospace">"something else"</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">.user, .projects[]</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">{"user":"stedolan", "projects": ["jq", "wikiflow"]}</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">"stedolan"</td>
                  </tr>
                  <tr>
                    <th></th>
                    <td class="font-monospace">"jq"</td>
                  </tr>
                  <tr>
                    <th></th>
                    <td class="font-monospace">"wikiflow"</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">.[4,2]</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">["a","b","c","d","e"]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">"e"</td>
                  </tr>
                  <tr>
                    <th></th>
                    <td class="font-monospace">"c"</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="pipe">
          <h3>Pipe: <code>|</code></h3>
          <p>
            The | operator combines two filters by feeding the output(s) of the one on the left into the input of the
            one on the right. It's similar to the Unix shell's pipe, if you're used to that.
          </p>
          <p>
            If the one on the left produces multiple results, the one on the right will be run for each of those
            results. So, the expression
            <code>.[] | .foo</code> retrieves the "foo" field of each element of the input array. This is a cartesian
            product, which can be surprising.
          </p>
          <p>Note that <code>.a.b.c</code> is the same as <code>.a | .b | .c</code>.</p>
          <p>
            Note too that <code>.</code> is the input value at the particular stage in a "pipeline", specifically: where
            the <code>.</code> expression appears. Thus <code>.a | . | .b</code> is the same as <code>.a.b</code>, as
            the <code>.</code> in the middle refers to whatever value <code>.a</code> produced.
          </p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example8" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">.[] | .name</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">[{"name":"JSON", "good":true}, {"name":"XML", "good":false}]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">"JSON"</td>
                  </tr>
                  <tr>
                    <th></th>
                    <td class="font-monospace">"XML"</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="parenthesis">
          <h3>Parenthesis</h3>
          <p>Parenthesis work as a grouping operator just as in any typical programming language.</p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example9" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">(. + 2) * 5</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">1</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">15</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
      </section>
      <section id="types-and-values">
        <h2>Types and Values</h2>
        <p>
          jq supports the same set of datatypes as JSON - numbers, strings, booleans, arrays, objects (which in
          JSON-speak are hashes with only string keys), and "null".
        </p>
        <p>
          Booleans, null, strings and numbers are written the same way as in JSON. Just like everything else in jq,
          these simple values take an input and produce an output - <code>42</code> is a valid jq expression that takes
          an input, ignores it, and returns 42 instead.
        </p>
        <p>
          Numbers in jq are internally represented by their IEEE754 double precision approximation. Any arithmetic
          operation with numbers, whether they are literals or results of previous filters, will produce a double
          precision floating point result.
        </p>
        <p>
          However, when parsing a literal jq will store the original literal string. If no mutation is applied to this
          value then it will make to the output in its original form, even if conversion to double would result in a
          loss.
        </p>
        <section id="array-construction">
          <h3>Array construction: <code>[]</code></h3>
          <p>
            As in JSON, <code>[]</code> is used to construct arrays, as in <code>[1,2,3]</code>. The elements of the
            arrays can be any jq expression, including a pipeline. All of the results produced by all of the expressions
            are collected into one big array. You can use it to construct an array out of a known quantity of values (as
            in <code>[.foo, .bar, .baz]</code>) or to "collect" all the results of a filter into an array (as in
            <code>[.items[].name]</code>)
          </p>
          <p>
            Once you understand the "," operator, you can look at jq's array syntax in a different light: the expression
            <code>[1,2,3]</code> is not using a built-in syntax for comma-separated arrays, but is instead applying the
            <code>[]</code> operator (collect results) to the expression 1,2,3 (which produces three different results).
          </p>
          <p>
            If you have a filter <code>X</code> that produces four results, then the expression <code>[X]</code>
            will produce a single result, an array of four elements.
          </p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example10" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">[.user, .projects[]]</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">{"user":"stedolan", "projects": ["jq", "wikiflow"]}</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">["stedolan", "jq", "wikiflow"]</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">[ .[] | . * 2]</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">[1, 2, 3]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">[2, 4, 6]</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="object-construction">
          <h3>Object Construction: <code>{}</code></h3>
          <p>
            Like JSON, <code>{}</code> is for constructing objects (aka dictionaries or hashes), as in:
            <code>{"a": 42, "b": 17}</code>.
          </p>
          <p>
            If the keys are "identifier-like", then the quotes can be left off, as in <code>{a:42, b:17}</code>.
            Variable references as key expressions use the value of the variable as the key. Key expressions other than
            constant literals, identifiers, or variable references, need to be parenthesized, e.g.,
            <code>{("a"+"b"):59}</code>.
          </p>
          <p>
            The value can be any expression (although you may need to wrap it in parentheses if, for example, it
            contains colons), which gets applied to the {} expression's input (remember, all filters have an input and
            an output).
          </p>
          <pre><code>{foo: .bar}
</code></pre>
          <p>
            will produce the JSON object <code>{"foo": 42}</code> if given the JSON object
            <code>{"bar":42, "baz":43}</code> as its input. You can use this to select particular fields of an object:
            if the input is an object with "user", "title", "id", and "content" fields and you just want "user" and
            "title", you can write
          </p>
          <pre><code>{user: .user, title: .title}
</code></pre>
          <p>
            Because that is so common, there's a shortcut syntax for it:
            <code>{user, title}</code>.
          </p>
          <p>
            If one of the expressions produces multiple results, multiple dictionaries will be produced. If the input's
          </p>
          <pre><code>{"user":"stedolan","titles":["JQ Primer", "More JQ"]}
</code></pre>
          <p>then the expression</p>
          <pre><code>{user, title: .titles[]}
</code></pre>
          <p>will produce two outputs:</p>
          <pre><code>{"user":"stedolan", "title": "JQ Primer"}
{"user":"stedolan", "title": "More JQ"}
</code></pre>
          <p>
            Putting parentheses around the key means it will be evaluated as an expression. With the same input as
            above,
          </p>
          <pre><code>{(.user): .titles}
</code></pre>
          <p>produces</p>
          <pre><code>{"stedolan": ["JQ Primer", "More JQ"]}
</code></pre>
          <p>
            Variable references as keys use the value of the variable as the key. Without a value then the variable's
            name becomes the key and its value becomes the value,
          </p>
          <pre><code>"f o o" as $foo | "b a r" as $bar | {$foo, $bar:$foo}
</code></pre>
          <p>produces</p>
          <pre><code>{"foo":"f o o","b a r":"f o o"}
</code></pre>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example11" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">{user, title: .titles[]}</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">{"user":"stedolan","titles":["JQ Primer", "More JQ"]}</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">{"user":"stedolan", "title": "JQ Primer"}</td>
                  </tr>
                  <tr>
                    <th></th>
                    <td class="font-monospace">{"user":"stedolan", "title": "More JQ"}</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">{(.user): .titles}</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">{"user":"stedolan","titles":["JQ Primer", "More JQ"]}</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">{"stedolan": ["JQ Primer", "More JQ"]}</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="recursive-descent">
          <h3>Recursive Descent: <code>..</code></h3>
          <p>
            Recursively descends <code>.</code>, producing every value. This is the same as the zero-argument
            <code>recurse</code> builtin (see below). This is intended to resemble the XPath <code>//</code> operator.
            Note that <code>..a</code> does not work; use <code>.. | .a</code> instead. In the example below we use
            <code>.. | .a?</code> to find all the values of object keys "a" in any object found "below" <code>.</code>.
          </p>
          <p>
            This is particularly useful in conjunction with
            <code>path(EXP)</code> (also see below) and the <code>?</code> operator.
          </p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example12" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">.. | .a?</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">[[{"a":1}]]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">1</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
      </section>
      <section id="builtin-operators-and-functions">
        <h2>Builtin operators and functions</h2>
        <p>
          Some jq operators (for instance, <code>+</code>) do different things depending on the type of their arguments
          (arrays, numbers, etc.). However, jq never does implicit type conversions. If you try to add a string to an
          object you'll get an error message and no result.
        </p>
        <p>
          Please note that all numbers are converted to IEEE754 double precision floating point representation.
          Arithmetic and logical operators are working with these converted doubles. Results of all such operations are
          also limited to the double precision.
        </p>
        <p>
          The only exception to this behaviour of number is a snapshot of original number literal. When a number which
          originally was provided as a literal is never mutated until the end of the program then it is printed to the
          output in its original literal form. This also includes cases when the original literal would be truncated
          when converted to the IEEE754 double precision floating point number.
        </p>
        <section id="addition">
          <h3>Addition: <code>+</code></h3>
          <p>
            The operator <code>+</code> takes two filters, applies them both to the same input, and adds the results
            together. What "adding" means depends on the types involved:
          </p>
          <ul>
            <li>
              <p><strong>Numbers</strong> are added by normal arithmetic.</p>
            </li>
            <li>
              <p><strong>Arrays</strong> are added by being concatenated into a larger array.</p>
            </li>
            <li>
              <p><strong>Strings</strong> are added by being joined into a larger string.</p>
            </li>
            <li>
              <p>
                <strong>Objects</strong> are added by merging, that is, inserting all the key-value pairs from both
                objects into a single combined object. If both objects contain a value for the same key, the object on
                the right of the <code>+</code> wins. (For recursive merge use the <code>*</code> operator.)
              </p>
            </li>
          </ul>
          <p><code>null</code> can be added to any value, and returns the other value unchanged.</p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example13" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">.a + 1</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">{"a": 7}</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">8</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">.a + .b</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">{"a": [1,2], "b": [3,4]}</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">[1,2,3,4]</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">.a + null</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">{"a": 1}</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">1</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">.a + 1</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">{}</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">1</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">{a: 1} + {b: 2} + {c: 3} + {a: 42}</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">null</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">{"a": 42, "b": 2, "c": 3}</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="subtraction">
          <h3>Subtraction: <code>-</code></h3>
          <p>
            As well as normal arithmetic subtraction on numbers, the
            <code>-</code> operator can be used on arrays to remove all occurrences of the second array's elements from
            the first array.
          </p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example14" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">4 - .a</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">{"a":3}</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">1</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">. - ["xml", "yaml"]</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">["xml", "yaml", "json"]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">["json"]</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="multiplication-division-modulo">
          <h3>Multiplication, division, modulo: <code>*</code>, <code>/</code>, <code>%</code></h3>
          <p>
            These infix operators behave as expected when given two numbers. Division by zero raises an error.
            <code>x % y</code> computes x modulo y.
          </p>
          <p>
            Multiplying a string by a number produces the concatenation of that string that many times.
            <code>"x" * 0</code> produces <code>""</code>.
          </p>
          <p>Dividing a string by another splits the first using the second as separators.</p>
          <p>
            Multiplying two objects will merge them recursively: this works like addition but if both objects contain a
            value for the same key, and the values are objects, the two are merged with the same strategy.
          </p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example15" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">10 / . * 3</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">5</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">6</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">. / ", "</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">"a, b,c,d, e"</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">["a","b,c,d","e"]</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">{"k": {"a": 1, "b": 2}} * {"k": {"a": 0,"c": 3}}</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">null</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">{"k": {"a": 0, "b": 2, "c": 3}}</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">.[] | (1 / .)?</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">[1,0,-1]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">1</td>
                  </tr>
                  <tr>
                    <th></th>
                    <td class="font-monospace">-1</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="abs">
          <h3><code>abs</code></h3>
          <p>
            The builtin function <code>abs</code> is defined naively as: <code>if . &lt; 0 then - . else . end</code>.
          </p>
          <p>
            For numeric input, this is the absolute value. See the section on the identity filter for the implications
            of this definition for numeric input.
          </p>
          <p>
            To compute the absolute value of a number as a floating point number, you may wish use <code>fabs</code>.
          </p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example16" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">map(abs)</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">[-10, -1.1, -1e-1]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">[10,1.1,1e-1]</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="length">
          <h3><code>length</code></h3>
          <p>The builtin function <code>length</code> gets the length of various different types of value:</p>
          <ul>
            <li>
              <p>
                The length of a <strong>string</strong> is the number of Unicode codepoints it contains (which will be
                the same as its JSON-encoded length in bytes if it's pure ASCII).
              </p>
            </li>
            <li>
              <p>The length of a <strong>number</strong> is its absolute value.</p>
            </li>
            <li>
              <p>The length of an <strong>array</strong> is the number of elements.</p>
            </li>
            <li>
              <p>The length of an <strong>object</strong> is the number of key-value pairs.</p>
            </li>
            <li>
              <p>The length of <strong>null</strong> is zero.</p>
            </li>
            <li>
              <p>It is an error to use <code>length</code> on a <strong>boolean</strong>.</p>
            </li>
          </ul>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example17" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">.[] | length</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">[[1,2], "string", {"a":2}, null, -5]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">2</td>
                  </tr>
                  <tr>
                    <th></th>
                    <td class="font-monospace">6</td>
                  </tr>
                  <tr>
                    <th></th>
                    <td class="font-monospace">1</td>
                  </tr>
                  <tr>
                    <th></th>
                    <td class="font-monospace">0</td>
                  </tr>
                  <tr>
                    <th></th>
                    <td class="font-monospace">5</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="utf8bytelength">
          <h3><code>utf8bytelength</code></h3>
          <p>
            The builtin function <code>utf8bytelength</code> outputs the number of bytes used to encode a string in
            UTF-8.
          </p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example18" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">utf8bytelength</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">"\u03bc"</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">2</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="keys-keys_unsorted">
          <h3><code>keys</code>, <code>keys_unsorted</code></h3>
          <p>The builtin function <code>keys</code>, when given an object, returns its keys in an array.</p>
          <p>
            The keys are sorted "alphabetically", by unicode codepoint order. This is not an order that makes particular
            sense in any particular language, but you can count on it being the same for any two objects with the same
            set of keys, regardless of locale settings.
          </p>
          <p>
            When <code>keys</code> is given an array, it returns the valid indices for that array: the integers from 0
            to length-1.
          </p>
          <p>
            The <code>keys_unsorted</code> function is just like <code>keys</code>, but if the input is an object then
            the keys will not be sorted, instead the keys will roughly be in insertion order.
          </p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example19" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">keys</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">{"abc": 1, "abcd": 2, "Foo": 3}</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">["Foo", "abc", "abcd"]</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">keys</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">[42,3,35]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">[0,1,2]</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="has">
          <h3><code>has(key)</code></h3>
          <p>
            The builtin function <code>has</code> returns whether the input object has the given key, or the input array
            has an element at the given index.
          </p>
          <p>
            <code>has($key)</code> has the same effect as checking whether <code>$key</code> is a member of the array
            returned by <code>keys</code>, although <code>has</code> will be faster.
          </p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example20" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">map(has("foo"))</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">[{"foo": 42}, {}]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">[true, false]</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">map(has(2))</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">[[0,1], ["a","b","c"]]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">[false, true]</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="in">
          <h3><code>in</code></h3>
          <p>
            The builtin function <code>in</code> returns whether or not the input key is in the given object, or the
            input index corresponds to an element in the given array. It is, essentially, an inversed version of
            <code>has</code>.
          </p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example21" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">.[] | in({"foo": 42})</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">["foo", "bar"]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">true</td>
                  </tr>
                  <tr>
                    <th></th>
                    <td class="font-monospace">false</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">map(in([0,1]))</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">[2, 0]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">[false, true]</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="map-map_values">
          <h3><code>map(f)</code>, <code>map_values(f)</code></h3>
          <p>
            For any filter <code>f</code>, <code>map(f)</code> and <code>map_values(f)</code> apply <code>f</code> to
            each of the values in the input array or object, that is, to the values of <code>.[]</code>.
          </p>
          <p>
            In the absence of errors, <code>map(f)</code> always outputs an array whereas
            <code>map_values(f)</code> outputs an array if given an array, or an object if given an object.
          </p>
          <p>
            When the input to <code>map_values(f)</code> is an object, the output object has the same keys as the input
            object except for those keys whose values when piped to <code>f</code> produce no values at all.
          </p>
          <p>
            The key difference between <code>map(f)</code> and <code>map_values(f)</code> is that the former simply
            forms an array from all the values of <code>($x|f)</code> for each value, $x, in the input array or object,
            but <code>map_values(f)</code> only uses <code>first($x|f)</code>.
          </p>
          <p>
            Specifically, for object inputs,
            <code>map_values(f)</code> constructs the output object by examining in turn the value of
            <code>first(.[$k]|f)</code> for each key, $k, of the input. If this expression produces no values, then the
            corresponding key will be dropped; otherwise, the output object will have that value at the key, $k.
          </p>
          <p>
            Here are some examples to clarify the behavior of
            <code>map</code> and <code>map_values</code> when applied to arrays. These examples assume the input is
            <code>[1]</code> in all cases:
          </p>
          <pre><code>map(.+1)          #=&gt;  [2]
map(., .)         #=&gt;  [1,1]
map(empty)        #=&gt;  []map_values(.+1)   #=&gt;  [2]
map_values(., .)  #=&gt;  [1]
map_values(empty) #=&gt;  []
</code></pre>
          <p>
            <code>map(f)</code> is equivalent to <code>[.[] | f]</code> and <code>map_values(f)</code> is equivalent to
            <code>.[] |= f</code>.
          </p>
          <p>In fact, these are their implementations.</p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example22" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">map(.+1)</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">[1,2,3]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">[2,3,4]</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">map_values(.+1)</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">{"a": 1, "b": 2, "c": 3}</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">{"a": 2, "b": 3, "c": 4}</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">map(., .)</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">[1,2]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">[1,1,2,2]</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">map_values(. // empty)</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">{"a": null, "b": true, "c": false}</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">{"b":true}</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="pick">
          <h3><code>pick(pathexps)</code></h3>
          <p>
            Emit the projection of the input object or array defined by the specified sequence of path expressions, such
            that if
            <code>p</code> is any one of these specifications, then <code>(. | p)</code> will evaluate to the same value
            as <code>(. | pick(pathexps) | p)</code>. For arrays, negative indices and
            <code>.[m:n]</code> specifications should not be used.
          </p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example23" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">pick(.a, .b.c, .x)</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">{"a": 1, "b": {"c": 2, "d": 3}, "e": 4}</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">{"a":1,"b":{"c":2},"x":null}</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">pick(.[2], .[0], .[0])</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">[1,2,3,4]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">[1,null,3]</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="path">
          <h3><code>path(path_expression)</code></h3>
          <p>
            Outputs array representations of the given path expression in
            <code>.</code>. The outputs are arrays of strings (object keys) and/or numbers (array indices).
          </p>
          <p>
            Path expressions are jq expressions like <code>.a</code>, but also <code>.[]</code>. There are two types of
            path expressions: ones that can match exactly, and ones that cannot. For example, <code>.a.b.c</code> is an
            exact match path expression, while <code>.a[].b</code> is not.
          </p>
          <p>
            <code>path(exact_path_expression)</code> will produce the array representation of the path expression even
            if it does not exist in <code>.</code>, if <code>.</code> is <code>null</code> or an array or an object.
          </p>
          <p>
            <code>path(pattern)</code> will produce array representations of the paths matching <code>pattern</code> if
            the paths exist in <code>.</code>.
          </p>
          <p>
            Note that the path expressions are not different from normal expressions. The expression
            <code>path(..|select(type=="boolean"))</code> outputs all the paths to boolean values in <code>.</code>, and
            only those paths.
          </p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example24" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">path(.a[0].b)</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">null</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">["a",0,"b"]</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">[path(..)]</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">{"a":[{"b":1}]}</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">[[],["a"],["a",0],["a",0,"b"]]</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="del">
          <h3><code>del(path_expression)</code></h3>
          <p>The builtin function <code>del</code> removes a key and its corresponding value from an object.</p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example25" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">del(.foo)</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">{"foo": 42, "bar": 9001, "baz": 42}</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">{"bar": 9001, "baz": 42}</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">del(.[1, 2])</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">["foo", "bar", "baz"]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">["foo"]</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="getpath">
          <h3><code>getpath(PATHS)</code></h3>
          <p>
            The builtin function <code>getpath</code> outputs the values in <code>.</code> found at each path in
            <code>PATHS</code>.
          </p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example26" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">getpath(["a","b"])</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">null</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">null</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">[getpath(["a","b"], ["a","c"])]</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">{"a":{"b":0, "c":1}}</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">[0, 1]</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="setpath">
          <h3><code>setpath(PATHS; VALUE)</code></h3>
          <p>
            The builtin function <code>setpath</code> sets the <code>PATHS</code> in <code>.</code> to
            <code>VALUE</code>.
          </p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example27" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">setpath(["a","b"]; 1)</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">null</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">{"a": {"b": 1}}</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">setpath(["a","b"]; 1)</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">{"a":{"b":0}}</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">{"a": {"b": 1}}</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">setpath([0,"a"]; 1)</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">null</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">[{"a":1}]</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="delpaths">
          <h3><code>delpaths(PATHS)</code></h3>
          <p>
            The builtin function <code>delpaths</code> deletes the <code>PATHS</code> in <code>.</code>.
            <code>PATHS</code> must be an array of paths, where each path is an array of strings and numbers.
          </p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example28" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">delpaths([["a","b"]])</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">{"a":{"b":1},"x":{"y":2}}</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">{"a":{},"x":{"y":2}}</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="to_entries-from_entries-with_entries">
          <h3><code>to_entries</code>, <code>from_entries</code>, <code>with_entries(f)</code></h3>
          <p>
            These functions convert between an object and an array of key-value pairs. If <code>to_entries</code> is
            passed an object, then for each <code>k: v</code> entry in the input, the output array includes
            <code>{"key": k, "value": v}</code>.
          </p>
          <p>
            <code>from_entries</code> does the opposite conversion, and <code>with_entries(f)</code> is a shorthand for
            <code>to_entries | map(f) | from_entries</code>, useful for doing some operation to all keys and values of
            an object. <code>from_entries</code> accepts <code>"key"</code>, <code>"Key"</code>, <code>"name"</code>,
            <code>"Name"</code>, <code>"value"</code>, and <code>"Value"</code> as keys.
          </p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example29" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">to_entries</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">{"a": 1, "b": 2}</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">[{"key":"a", "value":1}, {"key":"b", "value":2}]</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">from_entries</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">[{"key":"a", "value":1}, {"key":"b", "value":2}]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">{"a": 1, "b": 2}</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">with_entries(.key |= "KEY_" + .)</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">{"a": 1, "b": 2}</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">{"KEY_a": 1, "KEY_b": 2}</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="select">
          <h3><code>select(boolean_expression)</code></h3>
          <p>
            The function <code>select(f)</code> produces its input unchanged if <code>f</code> returns true for that
            input, and produces no output otherwise.
          </p>
          <p>
            It's useful for filtering lists:
            <code>[1,2,3] | map(select(. &gt;= 2))</code> will give you <code>[2,3]</code>.
          </p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example30" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">map(select(. &gt;= 2))</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">[1,5,3,0,7]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">[5,3,7]</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">.[] | select(.id == "second")</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">[{"id": "first", "val": 1}, {"id": "second", "val": 2}]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">{"id": "second", "val": 2}</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="arrays-objects-iterables-booleans-numbers-normals-finites-strings-nulls-values-scalars">
          <h3>
            <code>arrays</code>, <code>objects</code>, <code>iterables</code>, <code>booleans</code>,
            <code>numbers</code>, <code>normals</code>, <code>finites</code>, <code>strings</code>, <code>nulls</code>,
            <code>values</code>, <code>scalars</code>
          </h3>
          <p>
            These built-ins select only inputs that are arrays, objects, iterables (arrays or objects), booleans,
            numbers, normal numbers, finite numbers, strings, null, non-null values, and non-iterables, respectively.
          </p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example31" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">.[]|numbers</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">[[],{},1,"foo",null,true,false]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">1</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="empty">
          <h3><code>empty</code></h3>
          <p><code>empty</code> returns no results. None at all. Not even <code>null</code>.</p>
          <p>It's useful on occasion. You'll know if you need it :)</p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example32" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">1, empty, 2</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">null</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">1</td>
                  </tr>
                  <tr>
                    <th></th>
                    <td class="font-monospace">2</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">[1,2,empty,3]</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">null</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">[1,2,3]</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="error">
          <h3><code>error</code>, <code>error(message)</code></h3>
          <p>
            Produces an error with the input value, or with the message given as the argument. Errors can be caught with
            try/catch; see below.
          </p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example33" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">try error catch .</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">"error message"</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">"error message"</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">try error("invalid value: \(.)") catch .</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">42</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">"invalid value: 42"</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="halt">
          <h3><code>halt</code></h3>
          <p>Stops the jq program with no further outputs. jq will exit with exit status <code>0</code>.</p>
        </section>
        <section id="halt_error">
          <h3><code>halt_error</code>, <code>halt_error(exit_code)</code></h3>
          <p>
            Stops the jq program with no further outputs. The input will be printed on <code>stderr</code> as raw output
            (i.e., strings will not have double quotes) with no decoration, not even a newline.
          </p>
          <p>The given <code>exit_code</code> (defaulting to <code>5</code>) will be jq's exit status.</p>
          <p>
            For example,
            <code>"Error: something went wrong\n"|halt_error(1)</code>.
          </p>
        </section>
        <section id="paths">
          <h3><code>paths</code>, <code>paths(node_filter)</code></h3>
          <p>
            <code>paths</code> outputs the paths to all the elements in its input (except it does not output the empty
            list, representing . itself).
          </p>
          <p>
            <code>paths(f)</code> outputs the paths to any values for which <code>f</code> is <code>true</code>. That
            is, <code>paths(type == "number")</code> outputs the paths to all numeric values.
          </p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example35" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">[paths]</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">[1,[[],{"a":2}]]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">[[0],[1],[1,0],[1,1],[1,1,"a"]]</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">[paths(type == "number")]</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">[1,[[],{"a":2}]]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">[[0],[1,1,"a"]]</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="add">
          <h3><code>add</code></h3>
          <p>
            The filter <code>add</code> takes as input an array, and produces as output the elements of the array added
            together. This might mean summed, concatenated or merged depending on the types of the elements of the input
            array - the rules are the same as those for the <code>+</code> operator (described above).
          </p>
          <p>If the input is an empty array, <code>add</code> returns <code>null</code>.</p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example36" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">add</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">["a","b","c"]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">"abc"</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">add</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">[1, 2, 3]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">6</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">add</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">[]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">null</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="any">
          <h3><code>any</code>, <code>any(condition)</code>, <code>any(generator; condition)</code></h3>
          <p>
            The filter <code>any</code> takes as input an array of boolean values, and produces <code>true</code> as
            output if any of the elements of the array are <code>true</code>.
          </p>
          <p>If the input is an empty array, <code>any</code> returns <code>false</code>.</p>
          <p>The <code>any(condition)</code> form applies the given condition to the elements of the input array.</p>
          <p>
            The <code>any(generator; condition)</code> form applies the given condition to all the outputs of the given
            generator.
          </p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example37" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">any</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">[true, false]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">true</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">any</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">[false, false]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">false</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">any</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">[]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">false</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="all">
          <h3><code>all</code>, <code>all(condition)</code>, <code>all(generator; condition)</code></h3>
          <p>
            The filter <code>all</code> takes as input an array of boolean values, and produces <code>true</code> as
            output if all of the elements of the array are <code>true</code>.
          </p>
          <p>The <code>all(condition)</code> form applies the given condition to the elements of the input array.</p>
          <p>
            The <code>all(generator; condition)</code> form applies the given condition to all the outputs of the given
            generator.
          </p>
          <p>If the input is an empty array, <code>all</code> returns <code>true</code>.</p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example38" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">all</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">[true, false]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">false</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">all</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">[true, true]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">true</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">all</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">[]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">true</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="flatten">
          <h3><code>flatten</code>, <code>flatten(depth)</code></h3>
          <p>
            The filter <code>flatten</code> takes as input an array of nested arrays, and produces a flat array in which
            all arrays inside the original array have been recursively replaced by their values. You can pass an
            argument to it to specify how many levels of nesting to flatten.
          </p>
          <p><code>flatten(2)</code> is like <code>flatten</code>, but going only up to two levels deep.</p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example39" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">flatten</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">[1, [2], [[3]]]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">[1, 2, 3]</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">flatten(1)</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">[1, [2], [[3]]]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">[1, 2, [3]]</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">flatten</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">[[]]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">[]</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">flatten</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">[{"foo": "bar"}, [{"foo": "baz"}]]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">[{"foo": "bar"}, {"foo": "baz"}]</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="range">
          <h3><code>range(upto)</code>, <code>range(from; upto)</code>, <code>range(from; upto; by)</code></h3>
          <p>
            The <code>range</code> function produces a range of numbers. <code>range(4; 10)</code> produces 6 numbers,
            from 4 (inclusive) to 10 (exclusive). The numbers are produced as separate outputs. Use
            <code>[range(4; 10)]</code> to get a range as an array.
          </p>
          <p>The one argument form generates numbers from 0 to the given number, with an increment of 1.</p>
          <p>
            The two argument form generates numbers from <code>from</code> to <code>upto</code> with an increment of 1.
          </p>
          <p>
            The three argument form generates numbers <code>from</code> to <code>upto</code> with an increment of
            <code>by</code>.
          </p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example40" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">range(2; 4)</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">null</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">2</td>
                  </tr>
                  <tr>
                    <th></th>
                    <td class="font-monospace">3</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">[range(2; 4)]</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">null</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">[2,3]</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">[range(4)]</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">null</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">[0,1,2,3]</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">[range(0; 10; 3)]</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">null</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">[0,3,6,9]</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">[range(0; 10; -1)]</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">null</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">[]</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">[range(0; -5; -1)]</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">null</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">[0,-1,-2,-3,-4]</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="floor">
          <h3><code>floor</code></h3>
          <p>The <code>floor</code> function returns the floor of its numeric input.</p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example41" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">floor</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">3.14159</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">3</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="sqrt">
          <h3><code>sqrt</code></h3>
          <p>The <code>sqrt</code> function returns the square root of its numeric input.</p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example42" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">sqrt</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">9</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">3</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="tonumber">
          <h3><code>tonumber</code></h3>
          <p>
            The <code>tonumber</code> function parses its input as a number. It will convert correctly-formatted strings
            to their numeric equivalent, leave numbers alone, and give an error on all other input.
          </p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example43" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">.[] | tonumber</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">[1, "1"]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">1</td>
                  </tr>
                  <tr>
                    <th></th>
                    <td class="font-monospace">1</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="tostring">
          <h3><code>tostring</code></h3>
          <p>
            The <code>tostring</code> function prints its input as a string. Strings are left unchanged, and all other
            values are JSON-encoded.
          </p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example44" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">.[] | tostring</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">[1, "1", [1]]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">"1"</td>
                  </tr>
                  <tr>
                    <th></th>
                    <td class="font-monospace">"1"</td>
                  </tr>
                  <tr>
                    <th></th>
                    <td class="font-monospace">"[1]"</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="type">
          <h3><code>type</code></h3>
          <p>
            The <code>type</code> function returns the type of its argument as a string, which is one of null, boolean,
            number, string, array or object.
          </p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example45" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">map(type)</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">[0, false, [], {}, null, "hello"]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">["number", "boolean", "array", "object", "null", "string"]</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="infinite-nan-isinfinite-isnan-isfinite-isnormal">
          <h3>
            <code>infinite</code>, <code>nan</code>, <code>isinfinite</code>, <code>isnan</code>, <code>isfinite</code>,
            <code>isnormal</code>
          </h3>
          <p>
            Some arithmetic operations can yield infinities and "not a number" (NaN) values. The
            <code>isinfinite</code> builtin returns <code>true</code> if its input is infinite. The
            <code>isnan</code> builtin returns <code>true</code> if its input is a NaN. The
            <code>infinite</code> builtin returns a positive infinite value. The <code>nan</code> builtin returns a NaN.
            The <code>isnormal</code> builtin returns true if its input is a normal number.
          </p>
          <p>Note that division by zero raises an error.</p>
          <p>
            Currently most arithmetic operations operating on infinities, NaNs, and sub-normals do not raise errors.
          </p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example46" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">.[] | (infinite * .) &lt; 0</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">[-1, 1]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">true</td>
                  </tr>
                  <tr>
                    <th></th>
                    <td class="font-monospace">false</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">infinite, nan | type</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">null</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">"number"</td>
                  </tr>
                  <tr>
                    <th></th>
                    <td class="font-monospace">"number"</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="sort-sort_by">
          <h3><code>sort</code>, <code>sort_by(path_expression)</code></h3>
          <p>
            The <code>sort</code> functions sorts its input, which must be an array. Values are sorted in the following
            order:
          </p>
          <ul>
            <li><code>null</code></li>
            <li><code>false</code></li>
            <li><code>true</code></li>
            <li>numbers</li>
            <li>strings, in alphabetical order (by unicode codepoint value)</li>
            <li>arrays, in lexical order</li>
            <li>objects</li>
          </ul>
          <p>
            The ordering for objects is a little complex: first they're compared by comparing their sets of keys (as
            arrays in sorted order), and if their keys are equal then the values are compared key by key.
          </p>
          <p>
            <code>sort_by</code> may be used to sort by a particular field of an object, or by applying any jq filter.
            <code>sort_by(f)</code> compares two elements by comparing the result of <code>f</code> on each element.
            When <code>f</code> produces multiple values, it firstly compares the first values, and the second values if
            the first values are equal, and so on.
          </p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example47" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">sort</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">[8,3,null,6]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">[null,3,6,8]</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">sort_by(.foo)</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">[{"foo":4, "bar":10}, {"foo":3, "bar":10}, {"foo":2, "bar":1}]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">[{"foo":2, "bar":1}, {"foo":3, "bar":10}, {"foo":4, "bar":10}]</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">sort_by(.foo, .bar)</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">
                      [{"foo":4, "bar":10}, {"foo":3, "bar":20}, {"foo":2, "bar":1}, {"foo":3, "bar":10}]
                    </td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">
                      [{"foo":2, "bar":1}, {"foo":3, "bar":10}, {"foo":3, "bar":20}, {"foo":4, "bar":10}]
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="group_by">
          <h3><code>group_by(path_expression)</code></h3>
          <p>
            <code>group_by(.foo)</code> takes as input an array, groups the elements having the same
            <code>.foo</code> field into separate arrays, and produces all of these arrays as elements of a larger
            array, sorted by the value of the <code>.foo</code> field.
          </p>
          <p>
            Any jq expression, not just a field access, may be used in place of
            <code>.foo</code>. The sorting order is the same as described in the <code>sort</code> function above.
          </p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example48" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">group_by(.foo)</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">[{"foo":1, "bar":10}, {"foo":3, "bar":100}, {"foo":1, "bar":1}]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">[[{"foo":1, "bar":10}, {"foo":1, "bar":1}], [{"foo":3, "bar":100}]]</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="min-max-min_by-max_by">
          <h3><code>min</code>, <code>max</code>, <code>min_by(path_exp)</code>, <code>max_by(path_exp)</code></h3>
          <p>Find the minimum or maximum element of the input array.</p>
          <p>
            The <code>min_by(path_exp)</code> and <code>max_by(path_exp)</code> functions allow you to specify a
            particular field or property to examine, e.g. <code>min_by(.foo)</code> finds the object with the smallest
            <code>foo</code> field.
          </p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example49" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">min</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">[5,4,2,7]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">2</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">max_by(.foo)</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">[{"foo":1, "bar":14}, {"foo":2, "bar":3}]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">{"foo":2, "bar":3}</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="unique-unique_by">
          <h3><code>unique</code>, <code>unique_by(path_exp)</code></h3>
          <p>
            The <code>unique</code> function takes as input an array and produces an array of the same elements, in
            sorted order, with duplicates removed.
          </p>
          <p>
            The <code>unique_by(path_exp)</code> function will keep only one element for each value obtained by applying
            the argument. Think of it as making an array by taking one element out of every group produced by
            <code>group</code>.
          </p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example50" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">unique</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">[1,2,5,3,5,3,1,3]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">[1,2,3,5]</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">unique_by(.foo)</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">[{"foo": 1, "bar": 2}, {"foo": 1, "bar": 3}, {"foo": 4, "bar": 5}]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">[{"foo": 1, "bar": 2}, {"foo": 4, "bar": 5}]</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">unique_by(length)</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">["chunky", "bacon", "kitten", "cicada", "asparagus"]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">["bacon", "chunky", "asparagus"]</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="reverse">
          <h3><code>reverse</code></h3>
          <p>This function reverses an array.</p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example51" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">reverse</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">[1,2,3,4]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">[4,3,2,1]</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="contains">
          <h3><code>contains(element)</code></h3>
          <p>
            The filter <code>contains(b)</code> will produce true if b is completely contained within the input. A
            string B is contained in a string A if B is a substring of A. An array B is contained in an array A if all
            elements in B are contained in any element in A. An object B is contained in object A if all of the values
            in B are contained in the value in A with the same key. All other types are assumed to be contained in each
            other if they are equal.
          </p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example52" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">contains("bar")</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">"foobar"</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">true</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">contains(["baz", "bar"])</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">["foobar", "foobaz", "blarp"]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">true</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">contains(["bazzzzz", "bar"])</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">["foobar", "foobaz", "blarp"]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">false</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">contains({foo: 12, bar: [{barp: 12}]})</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">{"foo": 12, "bar":[1,2,{"barp":12, "blip":13}]}</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">true</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">contains({foo: 12, bar: [{barp: 15}]})</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">{"foo": 12, "bar":[1,2,{"barp":12, "blip":13}]}</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">false</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="indices">
          <h3><code>indices(s)</code></h3>
          <p>
            Outputs an array containing the indices in <code>.</code> where <code>s</code> occurs. The input may be an
            array, in which case if <code>s</code> is an array then the indices output will be those where all elements
            in <code>.</code> match those of <code>s</code>.
          </p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example53" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">indices(", ")</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">"a,b, cd, efg, hijk"</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">[3,7,12]</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">indices(1)</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">[0,1,2,1,3,1,4]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">[1,3,5]</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">indices([1,2])</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">[0,1,2,3,1,4,2,5,1,2,6,7]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">[1,8]</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="index-rindex">
          <h3><code>index(s)</code>, <code>rindex(s)</code></h3>
          <p>
            Outputs the index of the first (<code>index</code>) or last (<code>rindex</code>) occurrence of
            <code>s</code> in the input.
          </p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example54" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">index(", ")</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">"a,b, cd, efg, hijk"</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">3</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">index(1)</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">[0,1,2,1,3,1,4]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">1</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">index([1,2])</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">[0,1,2,3,1,4,2,5,1,2,6,7]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">1</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">rindex(", ")</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">"a,b, cd, efg, hijk"</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">12</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">rindex(1)</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">[0,1,2,1,3,1,4]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">5</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">rindex([1,2])</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">[0,1,2,3,1,4,2,5,1,2,6,7]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">8</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="inside">
          <h3><code>inside</code></h3>
          <p>
            The filter <code>inside(b)</code> will produce true if the input is completely contained within b. It is,
            essentially, an inversed version of <code>contains</code>.
          </p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example55" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">inside("foobar")</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">"bar"</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">true</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">inside(["foobar", "foobaz", "blarp"])</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">["baz", "bar"]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">true</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">inside(["foobar", "foobaz", "blarp"])</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">["bazzzzz", "bar"]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">false</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">inside({"foo": 12, "bar":[1,2,{"barp":12, "blip":13}]})</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">{"foo": 12, "bar": [{"barp": 12}]}</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">true</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">inside({"foo": 12, "bar":[1,2,{"barp":12, "blip":13}]})</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">{"foo": 12, "bar": [{"barp": 15}]}</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">false</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="startswith">
          <h3><code>startswith(str)</code></h3>
          <p>Outputs <code>true</code> if . starts with the given string argument.</p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example56" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">[.[]|startswith("foo")]</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">["fo", "foo", "barfoo", "foobar", "barfoob"]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">[false, true, false, true, false]</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="endswith">
          <h3><code>endswith(str)</code></h3>
          <p>Outputs <code>true</code> if . ends with the given string argument.</p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example57" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">[.[]|endswith("foo")]</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">["foobar", "barfoo"]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">[false, true]</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="combinations">
          <h3><code>combinations</code>, <code>combinations(n)</code></h3>
          <p>
            Outputs all combinations of the elements of the arrays in the input array. If given an argument
            <code>n</code>, it outputs all combinations of <code>n</code> repetitions of the input array.
          </p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example58" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">combinations</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">[[1,2], [3, 4]]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">[1, 3]</td>
                  </tr>
                  <tr>
                    <th></th>
                    <td class="font-monospace">[1, 4]</td>
                  </tr>
                  <tr>
                    <th></th>
                    <td class="font-monospace">[2, 3]</td>
                  </tr>
                  <tr>
                    <th></th>
                    <td class="font-monospace">[2, 4]</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">combinations(2)</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">[0, 1]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">[0, 0]</td>
                  </tr>
                  <tr>
                    <th></th>
                    <td class="font-monospace">[0, 1]</td>
                  </tr>
                  <tr>
                    <th></th>
                    <td class="font-monospace">[1, 0]</td>
                  </tr>
                  <tr>
                    <th></th>
                    <td class="font-monospace">[1, 1]</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="ltrimstr">
          <h3><code>ltrimstr(str)</code></h3>
          <p>Outputs its input with the given prefix string removed, if it starts with it.</p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example59" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">[.[]|ltrimstr("foo")]</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">["fo", "foo", "barfoo", "foobar", "afoo"]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">["fo","","barfoo","bar","afoo"]</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="rtrimstr">
          <h3><code>rtrimstr(str)</code></h3>
          <p>Outputs its input with the given suffix string removed, if it ends with it.</p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example60" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">[.[]|rtrimstr("foo")]</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">["fo", "foo", "barfoo", "foobar", "foob"]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">["fo","","bar","foobar","foob"]</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="explode">
          <h3><code>explode</code></h3>
          <p>Converts an input string into an array of the string's codepoint numbers.</p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example61" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">explode</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">"foobar"</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">[102,111,111,98,97,114]</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="implode">
          <h3><code>implode</code></h3>
          <p>The inverse of explode.</p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example62" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">implode</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">[65, 66, 67]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">"ABC"</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="split-1">
          <h3><code>split(str)</code></h3>
          <p>Splits an input string on the separator argument.</p>
          <p>
            <code>split</code> can also split on regex matches when called with two arguments (see the regular
            expressions section below).
          </p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example63" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">split(", ")</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">"a, b,c,d, e, "</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">["a","b,c,d","e",""]</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="join">
          <h3><code>join(str)</code></h3>
          <p>
            Joins the array of elements given as input, using the argument as separator. It is the inverse of
            <code>split</code>: that is, running <code>split("foo") | join("foo")</code> over any input string returns
            said input string.
          </p>
          <p>
            Numbers and booleans in the input are converted to strings. Null values are treated as empty strings. Arrays
            and objects in the input are not supported.
          </p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example64" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">join(", ")</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">["a","b,c,d","e"]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">"a, b,c,d, e"</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">join(" ")</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">["a",1,2.3,true,null,false]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">"a 1 2.3 true false"</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="ascii_downcase-ascii_upcase">
          <h3><code>ascii_downcase</code>, <code>ascii_upcase</code></h3>
          <p>
            Emit a copy of the input string with its alphabetic characters (a-z and A-Z) converted to the specified
            case.
          </p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example65" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">ascii_upcase</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">"useful but not for é"</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">"USEFUL BUT NOT FOR é"</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="while">
          <h3><code>while(cond; update)</code></h3>
          <p>
            The <code>while(cond; update)</code> function allows you to repeatedly apply an update to
            <code>.</code> until <code>cond</code> is false.
          </p>
          <p>
            Note that <code>while(cond; update)</code> is internally defined as a recursive jq function. Recursive calls
            within <code>while</code> will not consume additional memory if <code>update</code> produces at most one
            output for each input. See advanced topics below.
          </p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example66" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">[while(.&lt;100; .*2)]</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">1</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">[1,2,4,8,16,32,64]</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="repeat">
          <h3><code>repeat(exp)</code></h3>
          <p>
            The <code>repeat(exp)</code> function allows you to repeatedly apply expression <code>exp</code> to
            <code>.</code> until an error is raised.
          </p>
          <p>
            Note that <code>repeat(exp)</code> is internally defined as a recursive jq function. Recursive calls within
            <code>repeat</code> will not consume additional memory if <code>exp</code> produces at most one output for
            each input. See advanced topics below.
          </p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example67" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">[repeat(.*2, error)?]</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">1</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">[2]</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="until">
          <h3><code>until(cond; next)</code></h3>
          <p>
            The <code>until(cond; next)</code> function allows you to repeatedly apply the expression <code>next</code>,
            initially to <code>.</code> then to its own output, until <code>cond</code> is true. For example, this can
            be used to implement a factorial function (see below).
          </p>
          <p>
            Note that <code>until(cond; next)</code> is internally defined as a recursive jq function. Recursive calls
            within <code>until()</code> will not consume additional memory if <code>next</code> produces at most one
            output for each input. See advanced topics below.
          </p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example68" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">[.,1]|until(.[0] &lt; 1; [.[0] - 1, .[1] * .[0]])|.[1]</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">4</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">24</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="recurse">
          <h3><code>recurse(f)</code>, <code>recurse</code>, <code>recurse(f; condition)</code></h3>
          <p>
            The <code>recurse(f)</code> function allows you to search through a recursive structure, and extract
            interesting data from all levels. Suppose your input represents a filesystem:
          </p>
          <pre><code>{"name": "/", "children": [
  {"name": "/bin", "children": [
    {"name": "/bin/ls", "children": []},
    {"name": "/bin/sh", "children": []}]},
  {"name": "/home", "children": [
    {"name": "/home/stephen", "children": [
      {"name": "/home/stephen/jq", "children": []}]}]}]}
</code></pre>
          <p>
            Now suppose you want to extract all of the filenames present. You need to retrieve <code>.name</code>,
            <code>.children[].name</code>, <code>.children[].children[].name</code>, and so on. You can do this with:
          </p>
          <pre><code>recurse(.children[]) | .name
</code></pre>
          <p>When called without an argument, <code>recurse</code> is equivalent to <code>recurse(.[]?)</code>.</p>
          <p>
            <code>recurse(f)</code> is identical to <code>recurse(f; true)</code> and can be used without concerns about
            recursion depth.
          </p>
          <p>
            <code>recurse(f; condition)</code> is a generator which begins by emitting . and then emits in turn .|f,
            .|f|f, .|f|f|f, ... so long as the computed value satisfies the condition. For example, to generate all the
            integers, at least in principle, one could write <code>recurse(.+1; true)</code>.
          </p>
          <p>
            The recursive calls in <code>recurse</code> will not consume additional memory whenever
            <code>f</code> produces at most a single output for each input.
          </p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example69" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">recurse(.foo[])</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">{"foo":[{"foo": []}, {"foo":[{"foo":[]}]}]}</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">{"foo":[{"foo":[]},{"foo":[{"foo":[]}]}]}</td>
                  </tr>
                  <tr>
                    <th></th>
                    <td class="font-monospace">{"foo":[]}</td>
                  </tr>
                  <tr>
                    <th></th>
                    <td class="font-monospace">{"foo":[{"foo":[]}]}</td>
                  </tr>
                  <tr>
                    <th></th>
                    <td class="font-monospace">{"foo":[]}</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">recurse</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">{"a":0,"b":[1]}</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">{"a":0,"b":[1]}</td>
                  </tr>
                  <tr>
                    <th></th>
                    <td class="font-monospace">0</td>
                  </tr>
                  <tr>
                    <th></th>
                    <td class="font-monospace">[1]</td>
                  </tr>
                  <tr>
                    <th></th>
                    <td class="font-monospace">1</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">recurse(. * .; . &lt; 20)</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">2</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">2</td>
                  </tr>
                  <tr>
                    <th></th>
                    <td class="font-monospace">4</td>
                  </tr>
                  <tr>
                    <th></th>
                    <td class="font-monospace">16</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="walk">
          <h3><code>walk(f)</code></h3>
          <p>
            The <code>walk(f)</code> function applies f recursively to every component of the input entity. When an
            array is encountered, f is first applied to its elements and then to the array itself; when an object is
            encountered, f is first applied to all the values and then to the object. In practice, f will usually test
            the type of its input, as illustrated in the following examples. The first example highlights the usefulness
            of processing the elements of an array of arrays before processing the array itself. The second example
            shows how all the keys of all the objects within the input can be considered for alteration.
          </p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example70" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">walk(if type == "array" then sort else . end)</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">[[4, 1, 7], [8, 5, 2], [3, 6, 9]]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">[[1,4,7],[2,5,8],[3,6,9]]</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">
                      walk( if type == "object" then with_entries( .key |= sub( "^_+"; "") ) else . end )
                    </td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">[ { "_a": { "__b": 2 } } ]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">[{"a":{"b":2}}]</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="$env-env" style="display: none">
          <h3><code>$ENV</code>, <code>env</code></h3>
          <p>
            <code>$ENV</code> is an object representing the environment variables as set when the jq program started.
          </p>
          <p><code>env</code> outputs an object representing jq's current environment.</p>
          <p>At the moment there is no builtin for setting environment variables.</p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example71" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">$ENV.PAGER</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">null</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">"less"</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">env.PAGER</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">null</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">"less"</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="transpose">
          <h3><code>transpose</code></h3>
          <p>
            Transpose a possibly jagged matrix (an array of arrays). Rows are padded with nulls so the result is always
            rectangular.
          </p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example72" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">transpose</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">[[1], [2,3]]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">[[1,2],[null,3]]</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="bsearch">
          <h3><code>bsearch(x)</code></h3>
          <p>
            <code>bsearch(x)</code> conducts a binary search for x in the input array. If the input is sorted and
            contains x, then <code>bsearch(x)</code> will return its index in the array; otherwise, if the array is
            sorted, it will return (-1 - ix) where ix is an insertion point such that the array would still be sorted
            after the insertion of x at ix. If the array is not sorted, <code>bsearch(x)</code> will return an integer
            that is probably of no interest.
          </p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example73" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">bsearch(0)</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">[0,1]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">0</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">bsearch(0)</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">[1,2,3]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">-1</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">bsearch(4) as $ix | if $ix &lt; 0 then .[-(1+$ix)] = 4 else . end</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">[1,2,3]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">[1,2,3,4]</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="string-interpolation">
          <h3>String interpolation: <code>\(exp)</code></h3>
          <p>
            Inside a string, you can put an expression inside parens after a backslash. Whatever the expression returns
            will be interpolated into the string.
          </p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example74" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">"The input was \(.), which is one less than \(.+1)"</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">42</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">"The input was 42, which is one less than 43"</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="convert-to-from-json">
          <h3>Convert to/from JSON</h3>
          <p>
            The <code>tojson</code> and <code>fromjson</code> builtins dump values as JSON texts or parse JSON texts
            into values, respectively. The <code>tojson</code> builtin differs from <code>tostring</code> in that
            <code>tostring</code> returns strings unmodified, while <code>tojson</code> encodes strings as JSON strings.
          </p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example75" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">[.[]|tostring]</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">[1, "foo", ["foo"]]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">["1","foo","[\"foo\"]"]</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">[.[]|tojson]</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">[1, "foo", ["foo"]]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">["1","\"foo\"","[\"foo\"]"]</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">[.[]|tojson|fromjson]</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">[1, "foo", ["foo"]]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">[1,"foo",["foo"]]</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="format-strings-and-escaping">
          <h3>Format strings and escaping</h3>
          <p>
            The <code>@foo</code> syntax is used to format and escape strings, which is useful for building URLs,
            documents in a language like HTML or XML, and so forth. <code>@foo</code> can be used as a filter on its
            own, the possible escapings are:
          </p>
          <ul>
            <li><code>@text</code>:</li>
          </ul>
          <p>Calls <code>tostring</code>, see that function for details.</p>
          <ul>
            <li><code>@json</code>:</li>
          </ul>
          <p>Serializes the input as JSON.</p>
          <ul>
            <li><code>@html</code>:</li>
          </ul>
          <p>
            Applies HTML/XML escaping, by mapping the characters
            <code>&lt;&gt;&amp;'"</code> to their entity equivalents <code>&amp;lt;</code>, <code>&amp;gt;</code>,
            <code>&amp;amp;</code>, <code>&amp;apos;</code>, <code>&amp;quot;</code>.
          </p>
          <ul>
            <li><code>@uri</code>:</li>
          </ul>
          <p>Applies percent-encoding, by mapping all reserved URI characters to a <code>%XX</code> sequence.</p>
          <ul>
            <li><code>@csv</code>:</li>
          </ul>
          <p>
            The input must be an array, and it is rendered as CSV with double quotes for strings, and quotes escaped by
            repetition.
          </p>
          <ul>
            <li><code>@tsv</code>:</li>
          </ul>
          <p>
            The input must be an array, and it is rendered as TSV (tab-separated values). Each input array will be
            printed as a single line. Fields are separated by a single tab (ascii <code>0x09</code>). Input characters
            line-feed (ascii <code>0x0a</code>), carriage-return (ascii <code>0x0d</code>), tab (ascii
            <code>0x09</code>) and backslash (ascii <code>0x5c</code>) will be output as escape sequences
            <code>\n</code>, <code>\r</code>, <code>\t</code>, <code>\\</code> respectively.
          </p>
          <ul>
            <li><code>@sh</code>:</li>
          </ul>
          <p>
            The input is escaped suitable for use in a command-line for a POSIX shell. If the input is an array, the
            output will be a series of space-separated strings.
          </p>
          <ul>
            <li><code>@base64</code>:</li>
          </ul>
          <p>The input is converted to base64 as specified by RFC 4648.</p>
          <ul>
            <li><code>@base64d</code>:</li>
          </ul>
          <p>
            The inverse of <code>@base64</code>, input is decoded as specified by RFC 4648. Note\: If the decoded string
            is not UTF-8, the results are undefined.
          </p>
          <p>
            This syntax can be combined with string interpolation in a useful way. You can follow a
            <code>@foo</code> token with a string literal. The contents of the string literal will <em>not</em> be
            escaped. However, all interpolations made inside that string literal will be escaped. For instance,
          </p>
          <pre><code>@uri "https://www.google.com/search?q=\(.search)"
</code></pre>
          <p>
            will produce the following output for the input
            <code>{"search":"what is jq?"}</code>:
          </p>
          <pre><code>"https://www.google.com/search?q=what%20is%20jq%3F"
</code></pre>
          <p>
            Note that the slashes, question mark, etc. in the URL are not escaped, as they were part of the string
            literal.
          </p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example76" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">@html</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">"This works if x &lt; y"</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">"This works if x &amp;lt; y"</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">@sh "echo \(.)"</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">"O'Hara's Ale"</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">"echo 'O'\\''Hara'\\''s Ale'"</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">@base64</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">"This is a message"</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">"VGhpcyBpcyBhIG1lc3NhZ2U="</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">@base64d</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">"VGhpcyBpcyBhIG1lc3NhZ2U="</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">"This is a message"</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="dates">
          <h3>Dates</h3>
          <p>
            jq provides some basic date handling functionality, with some high-level and low-level builtins. In all
            cases these builtins deal exclusively with time in UTC.
          </p>
          <p>
            The <code>fromdateiso8601</code> builtin parses datetimes in the ISO 8601 format to a number of seconds
            since the Unix epoch (1970-01-01T00:00:00Z). The <code>todateiso8601</code> builtin does the inverse.
          </p>
          <p>
            The <code>fromdate</code> builtin parses datetime strings. Currently <code>fromdate</code> only supports ISO
            8601 datetime strings, but in the future it will attempt to parse datetime strings in more formats.
          </p>
          <p>The <code>todate</code> builtin is an alias for <code>todateiso8601</code>.</p>
          <p>The <code>now</code> builtin outputs the current time, in seconds since the Unix epoch.</p>
          <p>
            Low-level jq interfaces to the C-library time functions are also provided: <code>strptime</code>,
            <code>strftime</code>, <code>strflocaltime</code>, <code>mktime</code>, <code>gmtime</code>, and
            <code>localtime</code>. Refer to your host operating system's documentation for the format strings used by
            <code>strptime</code> and <code>strftime</code>. Note: these are not necessarily stable interfaces in jq,
            particularly as to their localization functionality.
          </p>
          <p>
            The <code>gmtime</code> builtin consumes a number of seconds since the Unix epoch and outputs a "broken down
            time" representation of Greenwich Mean Time as an array of numbers representing (in this order): the year,
            the month (zero-based), the day of the month (one-based), the hour of the day, the minute of the hour, the
            second of the minute, the day of the week, and the day of the year -- all one-based unless otherwise stated.
            The day of the week number may be wrong on some systems for dates before March 1st 1900, or after December
            31 2099.
          </p>
          <p>
            The <code>localtime</code> builtin works like the <code>gmtime</code> builtin, but using the local timezone
            setting.
          </p>
          <p>
            The <code>mktime</code> builtin consumes "broken down time" representations of time output by
            <code>gmtime</code> and <code>strptime</code>.
          </p>
          <p>
            The <code>strptime(fmt)</code> builtin parses input strings matching the <code>fmt</code> argument. The
            output is in the "broken down time" representation consumed by <code>mktime</code> and output by
            <code>gmtime</code>.
          </p>
          <p>
            The <code>strftime(fmt)</code> builtin formats a time (GMT) with the given format. The
            <code>strflocaltime</code> does the same, but using the local timezone setting.
          </p>
          <p>
            The format strings for <code>strptime</code> and <code>strftime</code> are described in typical C library
            documentation. The format string for ISO 8601 datetime is <code>"%Y-%m-%dT%H:%M:%SZ"</code>.
          </p>
          <p>
            jq may not support some or all of this date functionality on some systems. In particular, the
            <code>%u</code> and <code>%j</code> specifiers for <code>strptime(fmt)</code> are not supported on macOS.
          </p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example77" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">fromdate</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">"2015-03-05T23:51:47Z"</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">1425599507</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">strptime("%Y-%m-%dT%H:%M:%SZ")</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">"2015-03-05T23:51:47Z"</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">[2015,2,5,23,51,47,4,63]</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">strptime("%Y-%m-%dT%H:%M:%SZ")|mktime</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">"2015-03-05T23:51:47Z"</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">1425599507</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="sql-style-operators" style="display: none">
          <h3>SQL-Style Operators</h3>
          <p>jq provides a few SQL-style operators.</p>
          <ul>
            <li>INDEX(stream; index_expression):</li>
          </ul>
          <p>
            This builtin produces an object whose keys are computed by the given index expression applied to each value
            from the given stream.
          </p>
          <ul>
            <li>JOIN($idx; stream; idx_expr; join_expr):</li>
          </ul>
          <p>
            This builtin joins the values from the given stream to the given index. The index's keys are computed by
            applying the given index expression to each value from the given stream. An array of the value in the stream
            and the corresponding value from the index is fed to the given join expression to produce each result.
          </p>
          <ul>
            <li>JOIN($idx; stream; idx_expr):</li>
          </ul>
          <p>Same as <code>JOIN($idx; stream; idx_expr; .)</code>.</p>
          <ul>
            <li>JOIN($idx; idx_expr):</li>
          </ul>
          <p>
            This builtin joins the input <code>.</code> to the given index, applying the given index expression to
            <code>.</code> to compute the index key. The join operation is as described above.
          </p>
          <ul>
            <li>IN(s):</li>
          </ul>
          <p>
            This builtin outputs <code>true</code> if <code>.</code> appears in the given stream, otherwise it outputs
            <code>false</code>.
          </p>
          <ul>
            <li>IN(source; s):</li>
          </ul>
          <p>
            This builtin outputs <code>true</code> if any value in the source stream appears in the second stream,
            otherwise it outputs <code>false</code>.
          </p>
        </section>
        <section id="builtins">
          <h3><code>builtins</code></h3>
          <p>
            Returns a list of all builtin functions in the format
            <code>name/arity</code>. Since functions with the same name but different arities are considered separate
            functions, <code>all/0</code>, <code>all/1</code>, and <code>all/2</code> would all be present in the list.
          </p>
        </section>
      </section>
      <section id="conditionals-and-comparisons">
        <h2>Conditionals and Comparisons</h2>
        <section id="==-!=">
          <h3><code>==</code>, <code>!=</code></h3>
          <p>
            The expression 'a == b' will produce 'true' if the results of evaluating a and b are equal (that is, if they
            represent equivalent JSON values) and 'false' otherwise. In particular, strings are never considered equal
            to numbers. In checking for the equality of JSON objects, the ordering of keys is irrelevant. If you're
            coming from JavaScript, please note that jq's <code>==</code> is like JavaScript's <code>===</code>, the
            "strict equality" operator.
          </p>
          <p>!= is "not equal", and 'a != b' returns the opposite value of 'a == b'</p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example78" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">. == false</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">null</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">false</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">. == {"b": {"d": (4 + 1e-20), "c": 3}, "a":1}</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">{"a":1, "b": {"c": 3, "d": 4}}</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">true</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">.[] == 1</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">[1, 1.0, "1", "banana"]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">true</td>
                  </tr>
                  <tr>
                    <th></th>
                    <td class="font-monospace">true</td>
                  </tr>
                  <tr>
                    <th></th>
                    <td class="font-monospace">false</td>
                  </tr>
                  <tr>
                    <th></th>
                    <td class="font-monospace">false</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="if-then-else-end">
          <h3>if-then-else-end</h3>
          <p>
            <code>if A then B else C end</code> will act the same as <code>B</code> if <code>A</code> produces a value
            other than false or null, but act the same as <code>C</code> otherwise.
          </p>
          <p>
            <code>if A then B end</code> is the same as <code>if A then B else . end</code>. That is, the
            <code>else</code> branch is optional, and if absent is the same as <code>.</code>. This also applies to
            <code>elif</code> with absent ending <code>else</code> branch.
          </p>
          <p>
            Checking for false or null is a simpler notion of "truthiness" than is found in JavaScript or Python, but it
            means that you'll sometimes have to be more explicit about the condition you want. You can't test whether,
            e.g. a string is empty using
            <code>if .name then A else B end</code>; you'll need something like
            <code>if .name == "" then A else B end</code> instead.
          </p>
          <p>
            If the condition <code>A</code> produces multiple results, then <code>B</code> is evaluated once for each
            result that is not false or null, and <code>C</code> is evaluated once for each false or null.
          </p>
          <p>
            More cases can be added to an if using
            <code>elif A then B</code> syntax.
          </p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example79" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">if . == 0 then "zero" elif . == 1 then "one" else "many" end</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">2</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">"many"</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id=">->=-<=-<">
          <h3><code>&gt;</code>, <code>&gt;=</code>, <code>&lt;=</code>, <code>&lt;</code></h3>
          <p>
            The comparison operators <code>&gt;</code>, <code>&gt;=</code>, <code>&lt;=</code>, <code>&lt;</code>
            return whether their left argument is greater than, greater than or equal to, less than or equal to or less
            than their right argument (respectively).
          </p>
          <p>The ordering is the same as that described for <code>sort</code>, above.</p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example80" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">. &lt; 5</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">2</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">true</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="and-or-not">
          <h3><code>and</code>, <code>or</code>, <code>not</code></h3>
          <p>
            jq supports the normal Boolean operators <code>and</code>, <code>or</code>, <code>not</code>. They have the
            same standard of truth as if expressions - <code>false</code> and <code>null</code> are considered "false
            values", and anything else is a "true value".
          </p>
          <p>
            If an operand of one of these operators produces multiple results, the operator itself will produce a result
            for each input.
          </p>
          <p>
            <code>not</code> is in fact a builtin function rather than an operator, so it is called as a filter to which
            things can be piped rather than with special syntax, as in <code>.foo and .bar | not</code>.
          </p>
          <p>
            These three only produce the values <code>true</code> and <code>false</code>, and so are only useful for
            genuine Boolean operations, rather than the common Perl/Python/Ruby idiom of "value_that_may_be_null or
            default". If you want to use this form of "or", picking between two values rather than evaluating a
            condition, see the <code>//</code> operator below.
          </p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example81" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">42 and "a string"</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">null</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">true</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">(true, false) or false</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">null</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">true</td>
                  </tr>
                  <tr>
                    <th></th>
                    <td class="font-monospace">false</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">(true, true) and (true, false)</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">null</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">true</td>
                  </tr>
                  <tr>
                    <th></th>
                    <td class="font-monospace">false</td>
                  </tr>
                  <tr>
                    <th></th>
                    <td class="font-monospace">true</td>
                  </tr>
                  <tr>
                    <th></th>
                    <td class="font-monospace">false</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">[true, false | not]</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">null</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">[false, true]</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="alternative-operator">
          <h3>Alternative operator: <code>//</code></h3>
          <p>
            The <code>//</code> operator produces all the values of its left-hand side that are neither
            <code>false</code> nor <code>null</code>, or, if the left-hand side produces no values other than
            <code>false</code> or <code>null</code>, then <code>//</code> produces all the values of its right-hand
            side.
          </p>
          <p>
            A filter of the form <code>a // b</code> produces all the results of <code>a</code> that are not
            <code>false</code> or <code>null</code>. If <code>a</code> produces no results, or no results other than
            <code>false</code> or <code>null</code>, then <code>a // b</code> produces the results of <code>b</code>.
          </p>
          <p>
            This is useful for providing defaults: <code>.foo // 1</code> will evaluate to <code>1</code> if there's no
            <code>.foo</code> element in the input. It's similar to how <code>or</code> is sometimes used in Python
            (jq's <code>or</code> operator is reserved for strictly Boolean operations).
          </p>
          <p>
            Note: <code>some_generator // defaults_here</code> is not the same as
            <code>some_generator | . // defaults_here</code>. The latter will produce default values for all
            non-<code>false</code>, non-<code>null</code>
            values of the left-hand side, while the former will not. Precedence rules can make this confusing. For
            example, in
            <code>false, 1 // 2</code> the left-hand side of <code>//</code> is <code>1</code>, not
            <code>false, 1</code> -- <code>false, 1 // 2</code> parses the same way as <code>false, (1 // 2)</code>. In
            <code>(false, null, 1) | . // 42</code> the left-hand side of <code>//</code> is <code>.</code>, which
            always produces just one value, while in <code>(false, null, 1) // 42</code> the left-hand side is a
            generator of three values, and since it produces a value other <code>false</code> and <code>null</code>, the
            default <code>42</code> is not produced.
          </p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example82" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">empty // 42</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">null</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">42</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">.foo // 42</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">{"foo": 19}</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">19</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">.foo // 42</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">{}</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">42</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">(false, null, 1) // 42</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">null</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">1</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">(false, null, 1) | . // 42</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">null</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">42</td>
                  </tr>
                  <tr>
                    <th></th>
                    <td class="font-monospace">42</td>
                  </tr>
                  <tr>
                    <th></th>
                    <td class="font-monospace">1</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="try-catch">
          <h3>try-catch</h3>
          <p>
            Errors can be caught by using <code>try EXP catch EXP</code>. The first expression is executed, and if it
            fails then the second is executed with the error message. The output of the handler, if any, is output as if
            it had been the output of the expression to try.
          </p>
          <p>The <code>try EXP</code> form uses <code>empty</code> as the exception handler.</p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example83" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">try .a catch ". is not an object"</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">true</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">". is not an object"</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">[.[]|try .a]</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">[{}, true, {"a":1}]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">[null, 1]</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">try error("some exception") catch .</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">true</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">"some exception"</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="breaking-out-of-control-structures">
          <h3>Breaking out of control structures</h3>
          <p>
            A convenient use of try/catch is to break out of control structures like <code>reduce</code>,
            <code>foreach</code>, <code>while</code>, and so on.
          </p>
          <p>For example:</p>
          <pre><code># Repeat an expression until it raises "break" as an
# error, then stop repeating without re-raising the error.
# But if the error caught is not "break" then re-raise it.
try repeat(exp) catch if .=="break" then empty else error
</code></pre>
          <p>jq has a syntax for named lexical labels to "break" or "go (back) to":</p>
          <pre><code>label $out | ... break $out ...
</code></pre>
          <p>
            The <code>break $label_name</code> expression will cause the program to act as though the nearest (to the
            left) <code>label $label_name</code> produced <code>empty</code>.
          </p>
          <p>
            The relationship between the <code>break</code> and corresponding <code>label</code> is lexical: the label
            has to be "visible" from the break.
          </p>
          <p>To break out of a <code>reduce</code>, for example:</p>
          <pre><code>label $out | reduce .[] as $item (null; if .==false then break $out else ... end)
</code></pre>
          <p>The following jq program produces a syntax error:</p>
          <pre><code>break $out
</code></pre>
          <p>because no label <code>$out</code> is visible.</p>
        </section>
        <section id="error-suppression-optional-operator">
          <h3>Error Suppression / Optional Operator: <code>?</code></h3>
          <p>The <code>?</code> operator, used as <code>EXP?</code>, is shorthand for <code>try EXP</code>.</p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example84" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">[.[] | .a?]</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">[{}, true, {"a":1}]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">[null, 1]</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">[.[] | tonumber?]</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">["1", "invalid", "3", 4]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">[1, 3, 4]</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
      </section>
      <section id="regular-expressions">
        <h2>Regular expressions</h2>
        <p>
          jq uses the
          <a href="https://github.com/kkos/oniguruma/blob/master/doc/RE">Oniguruma regular expression library</a>, as do
          PHP, TextMate, Sublime Text, etc, so the description here will focus on jq specifics.
        </p>
        <p>
          Oniguruma supports several flavors of regular expression, so it is important to know that jq uses the
          <a href="https://github.com/kkos/oniguruma/blob/master/doc/SYNTAX.md">"Perl NG" (Perl with named groups)</a>
          flavor.
        </p>
        <p>The jq regex filters are defined so that they can be used using one of these patterns:</p>
        <pre><code>STRING | FILTER(REGEX)
STRING | FILTER(REGEX; FLAGS)
STRING | FILTER([REGEX])
STRING | FILTER([REGEX, FLAGS])
</code></pre>
        <p>where:</p>
        <ul>
          <li>STRING, REGEX, and FLAGS are jq strings and subject to jq string interpolation;</li>
          <li>REGEX, after string interpolation, should be a valid regular expression;</li>
          <li>FILTER is one of <code>test</code>, <code>match</code>, or <code>capture</code>, as described below.</li>
        </ul>
        <p>
          Since REGEX must evaluate to a JSON string, some characters that are needed to form a regular expression must
          be escaped. For example, the regular expression <code>\s</code> signifying a whitespace character would be
          written as <code>"\\s"</code>.
        </p>
        <p>FLAGS is a string consisting of one of more of the supported flags:</p>
        <ul>
          <li><code>g</code> - Global search (find all matches, not just the first)</li>
          <li><code>i</code> - Case insensitive search</li>
          <li><code>m</code> - Multi line mode (<code>.</code> will match newlines)</li>
          <li><code>n</code> - Ignore empty matches</li>
          <li><code>p</code> - Both s and m modes are enabled</li>
          <li>
            <code>s</code> - Single line mode (<code>^</code> -&gt; <code>\A</code>, <code>$</code> -&gt;
            <code>\Z</code>)
          </li>
          <li><code>l</code> - Find longest possible matches</li>
          <li><code>x</code> - Extended regex format (ignore whitespace and comments)</li>
        </ul>
        <p>To match a whitespace with the <code>x</code> flag, use <code>\s</code>, e.g.</p>
        <pre><code>jq -n '"a b" | test("a\\sb"; "x")'
</code></pre>
        <p>Note that certain flags may also be specified within REGEX, e.g.</p>
        <pre><code>jq -n '("test", "TEst", "teST", "TEST") | test("(?i)te(?-i)st")'
</code></pre>
        <p>evaluates to: <code>true</code>, <code>true</code>, <code>false</code>, <code>false</code>.</p>
        <section id="test">
          <h3><code>test(val)</code>, <code>test(regex; flags)</code></h3>
          <p>
            Like <code>match</code>, but does not return match objects, only <code>true</code> or <code>false</code>
            for whether or not the regex matches the input.
          </p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example85" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">test("foo")</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">"foo"</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">true</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">.[] | test("a b c # spaces are ignored"; "ix")</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">["xabcd", "ABC"]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">true</td>
                  </tr>
                  <tr>
                    <th></th>
                    <td class="font-monospace">true</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="match">
          <h3><code>match(val)</code>, <code>match(regex; flags)</code></h3>
          <p><strong>match</strong> outputs an object for each match it finds. Matches have the following fields:</p>
          <ul>
            <li><code>offset</code> - offset in UTF-8 codepoints from the beginning of the input</li>
            <li><code>length</code> - length in UTF-8 codepoints of the match</li>
            <li><code>string</code> - the string that it matched</li>
            <li><code>captures</code> - an array of objects representing capturing groups.</li>
          </ul>
          <p>Capturing group objects have the following fields:</p>
          <ul>
            <li><code>offset</code> - offset in UTF-8 codepoints from the beginning of the input</li>
            <li><code>length</code> - length in UTF-8 codepoints of this capturing group</li>
            <li><code>string</code> - the string that was captured</li>
            <li><code>name</code> - the name of the capturing group (or <code>null</code> if it was unnamed)</li>
          </ul>
          <p>Capturing groups that did not match anything return an offset of -1</p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example86" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">match("(abc)+"; "g")</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">"abc abc"</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">
                      {"offset": 0, "length": 3, "string": "abc", "captures": [{"offset": 0, "length": 3, "string":
                      "abc", "name": null}]}
                    </td>
                  </tr>
                  <tr>
                    <th></th>
                    <td class="font-monospace">
                      {"offset": 4, "length": 3, "string": "abc", "captures": [{"offset": 4, "length": 3, "string":
                      "abc", "name": null}]}
                    </td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">match("foo")</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">"foo bar foo"</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">{"offset": 0, "length": 3, "string": "foo", "captures": []}</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">match(["foo", "ig"])</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">"foo bar FOO"</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">{"offset": 0, "length": 3, "string": "foo", "captures": []}</td>
                  </tr>
                  <tr>
                    <th></th>
                    <td class="font-monospace">{"offset": 8, "length": 3, "string": "FOO", "captures": []}</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">match("foo (?&lt;bar123&gt;bar)? foo"; "ig")</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">"foo bar foo foo foo"</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">
                      {"offset": 0, "length": 11, "string": "foo bar foo", "captures": [{"offset": 4, "length": 3,
                      "string": "bar", "name": "bar123"}]}
                    </td>
                  </tr>
                  <tr>
                    <th></th>
                    <td class="font-monospace">
                      {"offset": 12, "length": 8, "string": "foo foo", "captures": [{"offset": -1, "length": 0,
                      "string": null, "name": "bar123"}]}
                    </td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">[ match("."; "g")] | length</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">"abc"</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">3</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="capture">
          <h3><code>capture(val)</code>, <code>capture(regex; flags)</code></h3>
          <p>
            Collects the named captures in a JSON object, with the name of each capture as the key, and the matched
            string as the corresponding value.
          </p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example87" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">capture("(?&lt;a&gt;[a-z]+)-(?&lt;n&gt;[0-9]+)")</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">"xyzzy-14"</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">{ "a": "xyzzy", "n": "14" }</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="scan">
          <h3><code>scan(regex)</code>, <code>scan(regex; flags)</code></h3>
          <p>
            Emit a stream of the non-overlapping substrings of the input that match the regex in accordance with the
            flags, if any have been specified. If there is no match, the stream is empty. To capture all the matches for
            each input string, use the idiom
            <code>[ expr ]</code>, e.g. <code>[ scan(regex) ]</code>.
          </p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example88" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">scan("c")</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">"abcdefabc"</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">"c"</td>
                  </tr>
                  <tr>
                    <th></th>
                    <td class="font-monospace">"c"</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="split-2">
          <h3><code>split(regex; flags)</code></h3>
          <p>Splits an input string on each regex match.</p>
          <p>
            For backwards compatibility, when called with a single argument,
            <code>split</code> splits on a string, not a regex.
          </p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example89" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">split(", *"; null)</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">"ab,cd, ef"</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">["ab","cd","ef"]</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="splits">
          <h3><code>splits(regex)</code>, <code>splits(regex; flags)</code></h3>
          <p>
            These provide the same results as their
            <code>split</code> counterparts, but as a stream instead of an array.
          </p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example90" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">splits(", *")</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">"ab,cd, ef, gh"</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">"ab"</td>
                  </tr>
                  <tr>
                    <th></th>
                    <td class="font-monospace">"cd"</td>
                  </tr>
                  <tr>
                    <th></th>
                    <td class="font-monospace">"ef"</td>
                  </tr>
                  <tr>
                    <th></th>
                    <td class="font-monospace">"gh"</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="sub">
          <h3><code>sub(regex; tostring)</code>, <code>sub(regex; tostring; flags)</code></h3>
          <p>
            Emit the string obtained by replacing the first match of regex in the input string with
            <code>tostring</code>, after interpolation. <code>tostring</code> should be a jq string or a stream of such
            strings, each of which may contain references to named captures. The named captures are, in effect,
            presented as a JSON object (as constructed by <code>capture</code>) to <code>tostring</code>, so a reference
            to a captured variable named "x" would take the form: <code>"\(.x)"</code>.
          </p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example91" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">sub("[^a-z]*(?&lt;x&gt;[a-z]+)"; "Z\(.x)"; "g")</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">"123abc456def"</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">"ZabcZdef"</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">[sub("(?&lt;a&gt;.)"; "\(.a|ascii_upcase)", "\(.a|ascii_downcase)")]</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">"aB"</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">["AB","aB"]</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="gsub">
          <h3><code>gsub(regex; tostring)</code>, <code>gsub(regex; tostring; flags)</code></h3>
          <p>
            <code>gsub</code> is like <code>sub</code> but all the non-overlapping occurrences of the regex are replaced
            by <code>tostring</code>, after interpolation. If the second argument is a stream of jq strings, then
            <code>gsub</code> will produce a corresponding stream of JSON strings.
          </p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example92" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">gsub("(?&lt;x&gt;.)[^a]*"; "+\(.x)-")</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">"Abcabc"</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">"+A-+a-"</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">[gsub("p"; "a", "b")]</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">"p"</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">["a","b"]</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
      </section>
      <section id="advanced-features">
        <h2>Advanced features</h2>
        <p>
          Variables are an absolute necessity in most programming languages, but they're relegated to an "advanced
          feature" in jq.
        </p>
        <p>
          In most languages, variables are the only means of passing around data. If you calculate a value, and you want
          to use it more than once, you'll need to store it in a variable. To pass a value to another part of the
          program, you'll need that part of the program to define a variable (as a function parameter, object member, or
          whatever) in which to place the data.
        </p>
        <p>
          It is also possible to define functions in jq, although this is is a feature whose biggest use is defining
          jq's standard library (many jq functions such as <code>map</code> and <code>select</code> are in fact written
          in jq).
        </p>
        <p>
          jq has reduction operators, which are very powerful but a bit tricky. Again, these are mostly used internally,
          to define some useful bits of jq's standard library.
        </p>
        <p>
          It may not be obvious at first, but jq is all about generators (yes, as often found in other languages). Some
          utilities are provided to help deal with generators.
        </p>
        <p>
          Some minimal I/O support (besides reading JSON from standard input, and writing JSON to standard output) is
          available.
        </p>
        <p>Finally, there is a module/library system.</p>
        <section id="variable-symbolic-binding-operator">
          <h3>Variable / Symbolic Binding Operator: <code>... as $identifier | ...</code></h3>
          <p>
            In jq, all filters have an input and an output, so manual plumbing is not necessary to pass a value from one
            part of a program to the next. Many expressions, for instance <code>a + b</code>, pass their input to two
            distinct subexpressions (here <code>a</code> and <code>b</code> are both passed the same input), so
            variables aren't usually necessary in order to use a value twice.
          </p>
          <p>
            For instance, calculating the average value of an array of numbers requires a few variables in most
            languages - at least one to hold the array, perhaps one for each element or for a loop counter. In jq, it's
            simply <code>add / length</code> - the <code>add</code> expression is given the array and produces its sum,
            and the <code>length</code> expression is given the array and produces its length.
          </p>
          <p>
            So, there's generally a cleaner way to solve most problems in jq than defining variables. Still, sometimes
            they do make things easier, so jq lets you define variables using
            <code>expression as $variable</code>. All variable names start with <code>$</code>. Here's a slightly uglier
            version of the array-averaging example:
          </p>
          <pre><code>length as $array_length | add / $array_length
</code></pre>
          <p>
            We'll need a more complicated problem to find a situation where using variables actually makes our lives
            easier.
          </p>
          <p>
            Suppose we have an array of blog posts, with "author" and "title" fields, and another object which is used
            to map author usernames to real names. Our input looks like:
          </p>
          <pre><code>{"posts": [{"title": "First post", "author": "anon"},
           {"title": "A well-written article", "author": "person1"}],
 "realnames": {"anon": "Anonymous Coward",
               "person1": "Person McPherson"}}
</code></pre>
          <p>We want to produce the posts with the author field containing a real name, as in:</p>
          <pre><code>{"title": "First post", "author": "Anonymous Coward"}
{"title": "A well-written article", "author": "Person McPherson"}
</code></pre>
          <p>
            We use a variable, $names, to store the realnames object, so that we can refer to it later when looking up
            author usernames:
          </p>
          <pre><code>.realnames as $names | .posts[] | {title, author: $names[.author]}
</code></pre>
          <p>
            The expression <code>exp as $x | ...</code> means: for each value of expression <code>exp</code>, run the
            rest of the pipeline with the entire original input, and with <code>$x</code> set to that value. Thus
            <code>as</code> functions as something of a foreach loop.
          </p>
          <p>
            Just as <code>{foo}</code> is a handy way of writing <code>{foo: .foo}</code>, so <code>{$foo}</code> is a
            handy way of writing <code>{foo: $foo}</code>.
          </p>
          <p>
            Multiple variables may be declared using a single
            <code>as</code> expression by providing a pattern that matches the structure of the input (this is known as
            "destructuring"):
          </p>
          <pre><code>. as {realnames: $names, posts: [$first, $second]} | ...
</code></pre>
          <p>
            The variable declarations in array patterns (e.g.,
            <code>. as [$first, $second]</code>) bind to the elements of the array in from the element at index zero on
            up, in order. When there is no value at the index for an array pattern element, <code>null</code> is bound
            to that variable.
          </p>
          <p>Variables are scoped over the rest of the expression that defines them, so</p>
          <pre><code>.realnames as $names | (.posts[] | {title, author: $names[.author]})
</code></pre>
          <p>will work, but</p>
          <pre><code>(.realnames as $names | .posts[]) | {title, author: $names[.author]}
</code></pre>
          <p>won't.</p>
          <p>
            For programming language theorists, it's more accurate to say that jq variables are lexically-scoped
            bindings. In particular there's no way to change the value of a binding; one can only setup a new binding
            with the same name, but which will not be visible where the old one was.
          </p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example93" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">.bar as $x | .foo | . + $x</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">{"foo":10, "bar":200}</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">210</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">. as $i|[(.*2|. as $i| $i), $i]</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">5</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">[10,5]</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">. as [$a, $b, {c: $c}] | $a + $b + $c</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">[2, 3, {"c": 4, "d": 5}]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">9</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">.[] as [$a, $b] | {a: $a, b: $b}</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">[[0], [0, 1], [2, 1, 0]]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">{"a":0,"b":null}</td>
                  </tr>
                  <tr>
                    <th></th>
                    <td class="font-monospace">{"a":0,"b":1}</td>
                  </tr>
                  <tr>
                    <th></th>
                    <td class="font-monospace">{"a":2,"b":1}</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="destructuring-alternative-operator">
          <h3>Destructuring Alternative Operator: <code>?//</code></h3>
          <p>
            The destructuring alternative operator provides a concise mechanism for destructuring an input that can take
            one of several forms.
          </p>
          <p>
            Suppose we have an API that returns a list of resources and events associated with them, and we want to get
            the user_id and timestamp of the first event for each resource. The API (having been clumsily converted from
            XML) will only wrap the events in an array if the resource has multiple events:
          </p>
          <pre><code>{"resources": [{"id": 1, "kind": "widget", "events": {"action": "create", "user_id": 1, "ts": 13}},
               {"id": 2, "kind": "widget", "events": [{"action": "create", "user_id": 1, "ts": 14}, {"action": "destroy", "user_id": 1, "ts": 15}]}]}
</code></pre>
          <p>We can use the destructuring alternative operator to handle this structural change simply:</p>
          <pre><code>.resources[] as {$id, $kind, events: {$user_id, $ts}} ?// {$id, $kind, events: [{$user_id, $ts}]} | {$user_id, $kind, $id, $ts}
</code></pre>
          <p>Or, if we aren't sure if the input is an array of values or an object:</p>
          <pre><code>.[] as [$id, $kind, $user_id, $ts] ?// {$id, $kind, $user_id, $ts} | ...
</code></pre>
          <p>
            Each alternative need not define all of the same variables, but all named variables will be available to the
            subsequent expression. Variables not matched in the alternative that succeeded will be
            <code>null</code>:
          </p>
          <pre><code>.resources[] as {$id, $kind, events: {$user_id, $ts}} ?// {$id, $kind, events: [{$first_user_id, $first_ts}]} | {$user_id, $first_user_id, $kind, $id, $ts, $first_ts}
</code></pre>
          <p>
            Additionally, if the subsequent expression returns an error, the alternative operator will attempt to try
            the next binding. Errors that occur during the final alternative are passed through.
          </p>
          <pre><code>[[3]] | .[] as [$a] ?// [$b] | if $a != null then error("err: \($a)") else {$a,$b} end
</code></pre>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example94" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">
                      .[] as {$a, $b, c: {$d, $e}} ?// {$a, $b, c: [{$d, $e}]} | {$a, $b, $d, $e}
                    </td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">
                      [{"a": 1, "b": 2, "c": {"d": 3, "e": 4}}, {"a": 1, "b": 2, "c": [{"d": 3, "e": 4}]}]
                    </td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">{"a":1,"b":2,"d":3,"e":4}</td>
                  </tr>
                  <tr>
                    <th></th>
                    <td class="font-monospace">{"a":1,"b":2,"d":3,"e":4}</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">.[] as {$a, $b, c: {$d}} ?// {$a, $b, c: [{$e}]} | {$a, $b, $d, $e}</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">
                      [{"a": 1, "b": 2, "c": {"d": 3, "e": 4}}, {"a": 1, "b": 2, "c": [{"d": 3, "e": 4}]}]
                    </td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">{"a":1,"b":2,"d":3,"e":null}</td>
                  </tr>
                  <tr>
                    <th></th>
                    <td class="font-monospace">{"a":1,"b":2,"d":null,"e":4}</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">
                      .[] as [$a] ?// [$b] | if $a != null then error("err: \($a)") else {$a,$b} end
                    </td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">[[3]]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">{"a":null,"b":3}</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="defining-functions">
          <h3>Defining Functions</h3>
          <p>You can give a filter a name using "def" syntax:</p>
          <pre><code>def increment: . + 1;
</code></pre>
          <p>
            From then on, <code>increment</code> is usable as a filter just like a builtin function (in fact, this is
            how many of the builtins are defined). A function may take arguments:
          </p>
          <pre><code>def map(f): [.[] | f];
</code></pre>
          <p>
            Arguments are passed as <em>filters</em> (functions with no arguments), <em>not</em> as values. The same
            argument may be referenced multiple times with different inputs (here <code>f</code> is run for each element
            of the input array). Arguments to a function work more like callbacks than like value arguments. This is
            important to understand. Consider:
          </p>
          <pre><code>def foo(f): f|f;
5|foo(.*2)
</code></pre>
          <p>
            The result will be 20 because <code>f</code> is <code>.*2</code>, and during the first invocation of
            <code>f</code> <code>.</code> will be 5, and the second time it will be 10 (5 * 2), so the result will be
            20. Function arguments are filters, and filters expect an input when invoked.
          </p>
          <p>If you want the value-argument behaviour for defining simple functions, you can just use a variable:</p>
          <pre><code>def addvalue(f): f as $f | map(. + $f);
</code></pre>
          <p>Or use the short-hand:</p>
          <pre><code>def addvalue($f): ...;
</code></pre>
          <p>
            With either definition, <code>addvalue(.foo)</code> will add the current input's <code>.foo</code> field to
            each element of the array. Do note that calling <code>addvalue(.[])</code> will cause the
            <code>map(. + $f)</code> part to be evaluated once per value in the value of <code>.</code> at the call
            site.
          </p>
          <p>
            Multiple definitions using the same function name are allowed. Each re-definition replaces the previous one
            for the same number of function arguments, but only for references from functions (or main program)
            subsequent to the re-definition. See also the section below on scoping.
          </p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example95" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">def addvalue(f): . + [f]; map(addvalue(.[0]))</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">[[1,2],[10,20]]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">[[1,2,1], [10,20,10]]</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">def addvalue(f): f as $x | map(. + $x); addvalue(.[0])</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">[[1,2],[10,20]]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">[[1,2,1,2], [10,20,1,2]]</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="scoping">
          <h3>Scoping</h3>
          <p>
            There are two types of symbols in jq: value bindings (a.k.a., "variables"), and functions. Both are scoped
            lexically, with expressions being able to refer only to symbols that have been defined "to the left" of
            them. The only exception to this rule is that functions can refer to themselves so as to be able to create
            recursive functions.
          </p>
          <p>
            For example, in the following expression there is a binding which is visible "to the right" of it,
            <code>... | .*3 as $times_three | [. + $times_three] | ...</code>, but not "to the left". Consider this
            expression now, <code>... | (.*3 as $times_three | [. + $times_three]) | ...</code>: here the binding
            <code>$times_three</code> is <em>not</em> visible past the closing parenthesis.
          </p>
        </section>
        <section id="isempty">
          <h3><code>isempty(exp)</code></h3>
          <p>Returns true if <code>exp</code> produces no outputs, false otherwise.</p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example96" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">isempty(empty)</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">null</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">true</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">isempty(.[])</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">[]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">true</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">isempty(.[])</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">[1,2,3]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">false</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="limit">
          <h3><code>limit(n; exp)</code></h3>
          <p>The <code>limit</code> function extracts up to <code>n</code> outputs from <code>exp</code>.</p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example97" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">[limit(3;.[])]</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">[0,1,2,3,4,5,6,7,8,9]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">[0,1,2]</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="first-last-nth-2">
          <h3><code>first(expr)</code>, <code>last(expr)</code>, <code>nth(n; expr)</code></h3>
          <p>
            The <code>first(expr)</code> and <code>last(expr)</code> functions extract the first and last values from
            <code>expr</code>, respectively.
          </p>
          <p>
            The <code>nth(n; expr)</code> function extracts the nth value output by <code>expr</code>. Note that
            <code>nth(n; expr)</code> doesn't support negative values of <code>n</code>.
          </p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example98" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">[first(range(.)), last(range(.)), nth(./2; range(.))]</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">10</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">[0,9,5]</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="first-last-nth-1">
          <h3><code>first</code>, <code>last</code>, <code>nth(n)</code></h3>
          <p>
            The <code>first</code> and <code>last</code> functions extract the first and last values from any array at
            <code>.</code>.
          </p>
          <p>The <code>nth(n)</code> function extracts the nth value of any array at <code>.</code>.</p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example99" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">[range(.)]|[first, last, nth(5)]</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">10</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">[0,9,5]</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="reduce">
          <h3><code>reduce</code></h3>
          <p>
            The <code>reduce</code> syntax allows you to combine all of the results of an expression by accumulating
            them into a single answer. The form is <code>reduce EXP as $var (INIT; UPDATE)</code>. As an example, we'll
            pass <code>[1,2,3]</code> to this expression:
          </p>
          <pre><code>reduce .[] as $item (0; . + $item)
</code></pre>
          <p>
            For each result that <code>.[]</code> produces, <code>. + $item</code> is run to accumulate a running total,
            starting from 0 as the input value. In this example, <code>.[]</code> produces the results <code>1</code>,
            <code>2</code>, and <code>3</code>, so the effect is similar to running something like this:
          </p>
          <pre><code>0 | 1 as $item | . + $item |
    2 as $item | . + $item |
    3 as $item | . + $item
</code></pre>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example100" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">reduce .[] as $item (0; . + $item)</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">[1,2,3,4,5]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">15</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">reduce .[] as [$i,$j] (0; . + $i * $j)</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">[[1,2],[3,4],[5,6]]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">44</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">reduce .[] as {$x,$y} (null; .x += $x | .y += [$y])</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">[{"x":"a","y":1},{"x":"b","y":2},{"x":"c","y":3}]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">{"x":"abc","y":[1,2,3]}</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="foreach">
          <h3><code>foreach</code></h3>
          <p>
            The <code>foreach</code> syntax is similar to <code>reduce</code>, but intended to allow the construction of
            <code>limit</code> and reducers that produce intermediate results.
          </p>
          <p>
            The form is
            <code>foreach EXP as $var (INIT; UPDATE; EXTRACT)</code>. As an example, we'll pass <code>[1,2,3]</code>
            to this expression:
          </p>
          <pre><code>foreach .[] as $item (0; . + $item; [$item, . * 2])
</code></pre>
          <p>
            Like the <code>reduce</code> syntax, <code>. + $item</code> is run for each result that
            <code>.[]</code> produces, but <code>[$item, . * 2]</code> is run for each intermediate values. In this
            example, since the intermediate values are <code>1</code>, <code>3</code>, and <code>6</code>, the
            <code>foreach</code> expression produces <code>[1,2]</code>, <code>[2,6]</code>, and <code>[3,12]</code>. So
            the effect is similar to running something like this:
          </p>
          <pre><code>0 | 1 as $item | . + $item | [$item, . * 2],
    2 as $item | . + $item | [$item, . * 2],
    3 as $item | . + $item | [$item, . * 2]
</code></pre>
          <p>
            When <code>EXTRACT</code> is omitted, the identity filter is used. That is, it outputs the intermediate
            values as they are.
          </p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example101" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">foreach .[] as $item (0; . + $item)</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">[1,2,3,4,5]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">1</td>
                  </tr>
                  <tr>
                    <th></th>
                    <td class="font-monospace">3</td>
                  </tr>
                  <tr>
                    <th></th>
                    <td class="font-monospace">6</td>
                  </tr>
                  <tr>
                    <th></th>
                    <td class="font-monospace">10</td>
                  </tr>
                  <tr>
                    <th></th>
                    <td class="font-monospace">15</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">foreach .[] as $item (0; . + $item; [$item, . * 2])</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">[1,2,3,4,5]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">[1,2]</td>
                  </tr>
                  <tr>
                    <th></th>
                    <td class="font-monospace">[2,6]</td>
                  </tr>
                  <tr>
                    <th></th>
                    <td class="font-monospace">[3,12]</td>
                  </tr>
                  <tr>
                    <th></th>
                    <td class="font-monospace">[4,20]</td>
                  </tr>
                  <tr>
                    <th></th>
                    <td class="font-monospace">[5,30]</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">foreach .[] as $item (0; . + 1; {index: ., $item})</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">["foo", "bar", "baz"]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">{"index":1,"item":"foo"}</td>
                  </tr>
                  <tr>
                    <th></th>
                    <td class="font-monospace">{"index":2,"item":"bar"}</td>
                  </tr>
                  <tr>
                    <th></th>
                    <td class="font-monospace">{"index":3,"item":"baz"}</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="recursion">
          <h3>Recursion</h3>
          <p>
            As described above, <code>recurse</code> uses recursion, and any jq function can be recursive. The
            <code>while</code> builtin is also implemented in terms of recursion.
          </p>
          <p>
            Tail calls are optimized whenever the expression to the left of the recursive call outputs its last value.
            In practice this means that the expression to the left of the recursive call should not produce more than
            one output for each input.
          </p>
          <p>For example:</p>
          <pre><code>def recurse(f): def r: ., (f | select(. != null) | r); r;def while(cond; update):
  def _while:
    if cond then ., (update | _while) else empty end;
  _while;def repeat(exp):
  def _repeat:
    exp, _repeat;
  _repeat;
</code></pre>
        </section>
        <section id="generators-and-iterators">
          <h3>Generators and iterators</h3>
          <p>
            Some jq operators and functions are actually generators in that they can produce zero, one, or more values
            for each input, just as one might expect in other programming languages that have generators. For example,
            <code>.[]</code> generates all the values in its input (which must be an array or an object),
            <code>range(0; 10)</code> generates the integers between 0 and 10, and so on.
          </p>
          <p>
            Even the comma operator is a generator, generating first the values generated by the expression to the left
            of the comma, then the values generated by the expression on the right of the comma.
          </p>
          <p>
            The <code>empty</code> builtin is the generator that produces zero outputs. The <code>empty</code>
            builtin backtracks to the preceding generator expression.
          </p>
          <p>
            All jq functions can be generators just by using builtin generators. It is also possible to construct new
            generators using only recursion and the comma operator. If recursive calls are "in tail position" then the
            generator will be efficient. In the example below the recursive call by <code>_range</code> to itself is in
            tail position. The example shows off three advanced topics: tail recursion, generator construction, and
            sub-functions.
          </p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example102" class="mx-3 small d-print-block collapse show">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">
                      def range(init; upto; by): def _range: if (by &gt; 0 and . &lt; upto) or (by &lt; 0 and . &gt;
                      upto) then ., ((.+by)|_range) else . end; if by == 0 then init else init|_range end | select((by
                      &gt; 0 and . &lt; upto) or (by &lt; 0 and . &gt; upto)); range(0; 10; 3)
                    </td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">null</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">0</td>
                  </tr>
                  <tr>
                    <th></th>
                    <td class="font-monospace">3</td>
                  </tr>
                  <tr>
                    <th></th>
                    <td class="font-monospace">6</td>
                  </tr>
                  <tr>
                    <th></th>
                    <td class="font-monospace">9</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">
                      def while(cond; update): def _while: if cond then ., (update | _while) else empty end; _while;
                      [while(.&lt;100; .*2)]
                    </td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">1</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">[1,2,4,8,16,32,64]</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
      </section>
      <section id="math">
        <h2>Math</h2>
        <p>jq currently only has IEEE754 double-precision (64-bit) floating point number support.</p>
        <p>
          Besides simple arithmetic operators such as <code>+</code>, jq also has most standard math functions from the
          C math library. C math functions that take a single input argument (e.g., <code>sin()</code>) are available as
          zero-argument jq functions. C math functions that take two input arguments (e.g., <code>pow()</code>) are
          available as two-argument jq functions that ignore <code>.</code>. C math functions that take three input
          arguments are available as three-argument jq functions that ignore <code>.</code>.
        </p>
        <p>
          Availability of standard math functions depends on the availability of the corresponding math functions in
          your operating system and C math library. Unavailable math functions will be defined but will raise an error.
        </p>
        <p>
          One-input C math functions: <code>acos</code> <code>acosh</code> <code>asin</code> <code>asinh</code>
          <code>atan</code> <code>atanh</code> <code>cbrt</code> <code>ceil</code> <code>cos</code> <code>cosh</code>
          <code>erf</code> <code>erfc</code> <code>exp</code> <code>exp10</code> <code>exp2</code> <code>expm1</code>
          <code>fabs</code> <code>floor</code> <code>gamma</code> <code>j0</code> <code>j1</code> <code>lgamma</code>
          <code>log</code> <code>log10</code> <code>log1p</code> <code>log2</code> <code>logb</code>
          <code>nearbyint</code> <code>pow10</code> <code>rint</code> <code>round</code> <code>significand</code>
          <code>sin</code> <code>sinh</code> <code>sqrt</code> <code>tan</code> <code>tanh</code> <code>tgamma</code>
          <code>trunc</code> <code>y0</code> <code>y1</code>.
        </p>
        <p>
          Two-input C math functions: <code>atan2</code> <code>copysign</code> <code>drem</code> <code>fdim</code>
          <code>fmax</code> <code>fmin</code> <code>fmod</code> <code>frexp</code> <code>hypot</code> <code>jn</code>
          <code>ldexp</code> <code>modf</code> <code>nextafter</code> <code>nexttoward</code> <code>pow</code>
          <code>remainder</code> <code>scalb</code> <code>scalbln</code> <code>yn</code>.
        </p>
        <p>Three-input C math functions: <code>fma</code>.</p>
        <p>See your system's manual for more information on each of these.</p>
      </section>
      <section id="assignment">
        <h2>Assignment</h2>
        <p>
          Assignment works a little differently in jq than in most programming languages. jq doesn't distinguish between
          references to and copies of something - two objects or arrays are either equal or not equal, without any
          further notion of being "the same object" or "not the same object".
        </p>
        <p>
          If an object has two fields which are arrays, <code>.foo</code> and <code>.bar</code>, and you append
          something to <code>.foo</code>, then <code>.bar</code> will not get bigger, even if you've previously set
          <code>.bar = .foo</code>. If you're used to programming in languages like Python, Java, Ruby, JavaScript, etc.
          then you can think of it as though jq does a full deep copy of every object before it does the assignment (for
          performance it doesn't actually do that, but that's the general idea).
        </p>
        <p>
          This means that it's impossible to build circular values in jq (such as an array whose first element is
          itself). This is quite intentional, and ensures that anything a jq program can produce can be represented in
          JSON.
        </p>
        <p>
          All the assignment operators in jq have path expressions on the left-hand side (LHS). The right-hand side
          (RHS) provides values to set to the paths named by the LHS path expressions.
        </p>
        <p>
          Values in jq are always immutable. Internally, assignment works by using a reduction to compute new,
          replacement values for
          <code>.</code> that have had all the desired assignments applied to <code>.</code>, then outputting the
          modified value. This might be made clear by this example: <code>{a:{b:{c:1}}} | (.a.b|=3), .</code>. This will
          output <code>{"a":{"b":3}}</code> and <code>{"a":{"b":{"c":1}}}</code> because the last sub-expression,
          <code>.</code>, sees the original value, not the modified value.
        </p>
        <p>
          Most users will want to use modification assignment operators, such as
          <code>|=</code> or <code>+=</code>, rather than <code>=</code>.
        </p>
        <p>
          Note that the LHS of assignment operators refers to a value in
          <code>.</code>. Thus <code>$var.foo = 1</code> won't work as expected (<code>$var.foo</code> is not a valid or
          useful path expression in <code>.</code>); use <code>$var | .foo = 1</code> instead.
        </p>
        <p>
          Note too that <code>.a,.b=0</code> does not set <code>.a</code> and <code>.b</code>, but
          <code>(.a,.b)=0</code> sets both.
        </p>
        <section id="update-assignment">
          <h3>Update-assignment: <code>|=</code></h3>
          <p>
            This is the "update" operator <code>|=</code>. It takes a filter on the right-hand side and works out the
            new value for the property of <code>.</code> being assigned to by running the old value through this
            expression. For instance, <code>(.foo, .bar) |= .+1</code> will build an object with the
            <code>foo</code> field set to the input's <code>foo</code> plus 1, and the <code>bar</code> field set to the
            input's <code>bar</code> plus 1.
          </p>
          <p>
            The left-hand side can be any general path expression; see
            <code>path()</code>.
          </p>
          <p>
            Note that the left-hand side of <code>|=</code> refers to a value in <code>.</code>. Thus
            <code>$var.foo |= . + 1</code> won't work as expected (<code>$var.foo</code> is not a valid or useful path
            expression in <code>.</code>); use <code>$var | .foo |= . + 1</code> instead.
          </p>
          <p>
            If the right-hand side outputs no values (i.e., <code>empty</code>), then the left-hand side path will be
            deleted, as with <code>del(path)</code>.
          </p>
          <p>
            If the right-hand side outputs multiple values, only the first one will be used (COMPATIBILITY NOTE: in jq
            1.5 and earlier releases, it used to be that only the last one was used).
          </p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example106" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">(..|select(type=="boolean")) |= if . then 1 else 0 end</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">[true,false,[5,true,[true,[false]],false]]</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">[1,0,[5,1,[1,[0]],0]]</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="arithmetic-update-assignment">
          <h3>
            Arithmetic update-assignment: <code>+=</code>, <code>-=</code>, <code>*=</code>, <code>/=</code>,
            <code>%=</code>, <code>//=</code>
          </h3>
          <p>
            jq has a few operators of the form <code>a op= b</code>, which are all equivalent to
            <code>a |= . op b</code>. So, <code>+= 1</code> can be used to increment values, being the same as
            <code>|= . + 1</code>.
          </p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example107" class="mx-3 small d-print-block collapse show">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">.foo += 1</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">{"foo": 42}</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">{"foo": 43}</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="plain-assignment">
          <h3>Plain assignment: <code>=</code></h3>
          <p>
            This is the plain assignment operator. Unlike the others, the input to the right-hand side (RHS) is the same
            as the input to the left-hand side (LHS) rather than the value at the LHS path, and all values output by the
            RHS will be used (as shown below).
          </p>
          <p>
            If the RHS of <code>=</code> produces multiple values, then for each such value jq will set the paths on the
            left-hand side to the value and then it will output the modified <code>.</code>. For example,
            <code>(.a,.b) = range(2)</code> outputs <code>{"a":0,"b":0}</code>, then <code>{"a":1,"b":1}</code>. The
            "update" assignment forms (see above) do not do this.
          </p>
          <p>This example should show the difference between <code>=</code> and <code>|=</code>:</p>
          <p>Provide input <code>{"a": {"b": 10}, "b": 20}</code> to the programs</p>
          <pre><code>.a = .b
</code></pre>
          <p>and</p>
          <pre><code>.a |= .b
</code></pre>
          <p>
            The former will set the <code>a</code> field of the input to the <code>b</code> field of the input, and
            produce the output <code>{"a": 20, "b": 20}</code>. The latter will set the <code>a</code> field of the
            input to the <code>a</code> field's <code>b</code> field, producing <code>{"a": 10, "b": 20}</code>.
          </p>
          <div class="pb-3">
            <h4 class="examples">Examples:</h4>
            <div id="example108" class="collapse mx-3 small d-print-block">
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">.a = .b</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">{"a": {"b": 10}, "b": 20}</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">{"a":20,"b":20}</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">.a |= .b</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">{"a": {"b": 10}, "b": 20}</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">{"a":10,"b":20}</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">(.a, .b) = range(3)</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">null</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">{"a":0,"b":0}</td>
                  </tr>
                  <tr>
                    <th></th>
                    <td class="font-monospace">{"a":1,"b":1}</td>
                  </tr>
                  <tr>
                    <th></th>
                    <td class="font-monospace">{"a":2,"b":2}</td>
                  </tr>
                </tbody>
              </table>
              <table class="table table-borderless table-sm w-auto">
                <tbody>
                  <tr>
                    <th class="pe-3">Query</th>
                    <td class="font-monospace">(.a, .b) |= range(3)</td>
                  </tr>
                  <tr>
                    <th>Input</th>
                    <td class="font-monospace">null</td>
                  </tr>
                  <tr>
                    <th>Output</th>
                    <td class="font-monospace">{"a":0,"b":0}</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
        <section id="complex-assignments">
          <h3>Complex assignments</h3>
          <p>
            Lots more things are allowed on the left-hand side of a jq assignment than in most languages. We've already
            seen simple field accesses on the left hand side, and it's no surprise that array accesses work just as
            well:
          </p>
          <pre><code>.posts[0].title = "JQ Manual"
</code></pre>
          <p>
            What may come as a surprise is that the expression on the left may produce multiple results, referring to
            different points in the input document:
          </p>
          <pre><code>.posts[].comments |= . + ["this is great"]
</code></pre>
          <p>
            That example appends the string "this is great" to the "comments" array of each post in the input (where the
            input is an object with a field "posts" which is an array of posts).
          </p>
          <p>
            When jq encounters an assignment like 'a = b', it records the "path" taken to select a part of the input
            document while executing a. This path is then used to find which part of the input to change while executing
            the assignment. Any filter may be used on the left-hand side of an equals - whichever paths it selects from
            the input will be where the assignment is performed.
          </p>
          <p>
            This is a very powerful operation. Suppose we wanted to add a comment to blog posts, using the same "blog"
            input above. This time, we only want to comment on the posts written by "stedolan". We can find those posts
            using the "select" function described earlier:
          </p>
          <pre><code>.posts[] | select(.author == "stedolan")</code></pre>
          <p>
            The paths provided by this operation point to each of the posts that "stedolan" wrote, and we can comment on
            each of them in the same way that we did before:
          </p>
          <pre><code>(.posts[] | select(.author == "stedolan") | .comments) |= . + ["terrible."]</code></pre>
        </section>
      </section>
    </main>
  </body>
</html>
